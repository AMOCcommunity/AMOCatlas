

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AMOCarray demo &mdash; amocarray v0.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/nbsphinx-code-cells.css?v=2aa19091" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=1078e4cb" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=8b92e751"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="amocarray API" href="amocarray.html" />
    <link rel="prev" title="AMOCarray Format AC1 – RST" href="format_AC1.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            amocarray
              <img src="_static/logo.jpg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developers' guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="developer_guide.html">Developer Guide for <code class="docutils literal notranslate"><span class="pre">amocarray</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="gitcollab.html">Collaborating with git: Basic workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="actions.html">Extra GitHub features: Actions &amp; Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="conventions.html">Project Coding Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="housekeeping.html">Project Housekeeping Checklist</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Common format</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="format_AC1.html">AMOCarray Format AC1 – RST</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Demo notebook</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">AMOCarray demo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Load-RAPID-26°N">Load RAPID 26°N</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Load-MOVE-16°N">Load MOVE 16°N</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Load-OSNAP">Load OSNAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Load-SAMBA-34.5°S">Load SAMBA 34.5°S</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Help and reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="http://github.com/AMOCcommunity/amocarray">GitHub Repo</a></li>
<li class="toctree-l1"><a class="reference internal" href="amocarray.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">amocarray</span> <span class="pre">API</span></code></a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">amocarray</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">AMOCarray demo</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/demo-output.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="AMOCarray-demo">
<h1>AMOCarray demo<a class="headerlink" href="#AMOCarray-demo" title="Link to this heading"></a></h1>
<p>The purpose of this notebook is to demonstrate the functionality of <code class="docutils literal notranslate"><span class="pre">AMOCarray</span></code>.</p>
<p>The demo is organised to show</p>
<ul class="simple">
<li><p>Step 1: Loading and plotting a sample dataset</p></li>
<li><p>Step 2: Exploring the dataset attributes and variables.</p></li>
</ul>
<p>Note that when you submit a pull request, you should <code class="docutils literal notranslate"><span class="pre">clear</span> <span class="pre">all</span> <span class="pre">outputs</span></code> from your python notebook for a cleaner merge.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pathlib</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>

<span class="n">script_dir</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span>
<span class="n">parent_dir</span> <span class="o">=</span> <span class="n">script_dir</span><span class="o">.</span><span class="n">parents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">parent_dir</span><span class="p">))</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">importlib</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">xarray</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">xr</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">amocarray</span><span class="w"> </span><span class="kn">import</span> <span class="n">readers</span><span class="p">,</span> <span class="n">plotters</span><span class="p">,</span> <span class="n">standardise</span><span class="p">,</span> <span class="n">utilities</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Specify the path for writing datafiles</span>
<span class="n">data_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parent_dir</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<section id="Load-RAPID-26°N">
<h2>Load RAPID 26°N<a class="headerlink" href="#Load-RAPID-26°N" title="Link to this heading"></a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load data from data/moc_transports</span>
<span class="n">ds_rapid</span> <span class="o">=</span> <span class="n">readers</span><span class="o">.</span><span class="n">load_sample_dataset</span><span class="p">()</span>
<span class="n">ds_rapid</span> <span class="o">=</span> <span class="n">standardise</span><span class="o">.</span><span class="n">standardise_rapid</span><span class="p">(</span><span class="n">ds_rapid</span><span class="p">,</span> <span class="n">ds_rapid</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;source_file&quot;</span><span class="p">])</span>

<span class="n">datasetsRAPID</span> <span class="o">=</span> <span class="n">readers</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;rapid&quot;</span><span class="p">,</span> <span class="n">transport_only</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">standardRAPID</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">standardise</span><span class="o">.</span><span class="n">standardise_rapid</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;source_file&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">datasetsRAPID</span>
<span class="p">]</span>
<span class="n">ds_rapid</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
20250422T074307 INFO     setup_logger Logger initialized for array: rapid, writing to /home/runner/work/amocarray/amocarray/logs/RAPID_20250422T07_read.log
20250422T074307 INFO     load_dataset Loading dataset for array: rapid
20250422T074307 INFO     read_rapid Starting to read RAPID dataset
20250422T074307 INFO     resolve_file_path Using cached file: /home/runner/work/amocarray/amocarray/data/moc_transports.nc
20250422T074307 INFO     read_rapid Opening RAPID dataset: /home/runner/work/amocarray/amocarray/data/moc_transports.nc
20250422T074307 INFO     read_rapid Attaching metadata to RAPID dataset from file: moc_transports.nc
20250422T074307 INFO     read_rapid Successfully loaded 1 RAPID dataset(s)
20250422T074307 INFO     load_dataset Successfully loaded 1 dataset(s) for array: rapid
20250422T074307 INFO     _summarise_datasets
Summary for array &#39;rapid&#39;:
Total datasets loaded: 1

Dataset 1:
  Source file: moc_transports.nc
  Time coverage: TIME variable not found
  Dimensions:
    - time: 13779
  Variables:
    - t_therm10: shape (13779,)
    - t_aiw10: shape (13779,)
    - t_ud10: shape (13779,)
    - t_ld10: shape (13779,)
    - t_bw10: shape (13779,)
    - t_gs10: shape (13779,)
    - t_ek10: shape (13779,)
    - t_umo10: shape (13779,)
    - moc_mar_hc10: shape (13779,)

20250422T074307 DEBUG    standardise_array Standardising moc_transports.nc for RAPID
20250422T074307 DEBUG    merge_metadata_aliases Renaming key &#39;Title&#39; → &#39;title&#39;
20250422T074307 DEBUG    merge_metadata_aliases Renaming key &#39;Institution&#39; → &#39;institution&#39;
20250422T074307 DEBUG    merge_metadata_aliases Renaming key &#39;Website&#39; → &#39;web_link&#39;
20250422T074307 DEBUG    merge_metadata_aliases Renaming key &#39;Acknowledgement&#39; → &#39;acknowledgement&#39;
20250422T074307 DEBUG    merge_metadata_aliases Renaming key &#39;Created_by&#39; → &#39;creator_name&#39;
20250422T074307 DEBUG    merge_metadata_aliases Renaming key &#39;Creation_date&#39; → &#39;date_created&#39;
20250422T074307 DEBUG    merge_metadata_aliases Renaming key &#39;Principle_investigator&#39; → &#39;principal_investigator&#39;
20250422T074307 DEBUG    merge_metadata_aliases Renaming key &#39;Principle_investigator_email&#39; → &#39;principal_investigator_email&#39;
20250422T074307 DEBUG    merge_metadata_aliases Renaming key &#39;DOI&#39; → &#39;doi&#39;
20250422T074307 DEBUG    merge_metadata_aliases Conflict for &#39;web_link&#39; from &#39;web_link&#39;; keeping first value
20250422T074307 DEBUG    merge_metadata_aliases Renaming key &#39;note&#39; → &#39;comment&#39;
20250422T074307 DEBUG    merge_metadata_aliases Renaming key &#39;weblink&#39; → &#39;web_link&#39;
20250422T074307 DEBUG    merge_metadata_aliases Conflict for &#39;web_link&#39; from &#39;weblink&#39;; keeping first value
20250422T074307 DEBUG    merge_metadata_aliases Conflict for &#39;comment&#39; from &#39;comment&#39;; keeping first value
20250422T074307 DEBUG    merge_metadata_aliases Skipped duplicate (identical) key &#39;acknowledgement&#39; → &#39;acknowledgement&#39;
20250422T074307 DEBUG    merge_metadata_aliases Renaming key &#39;platform_type&#39; → &#39;platform&#39;
20250422T074307 DEBUG    merge_metadata_aliases Skipped duplicate (identical) key &#39;creator_name&#39; → &#39;creator_name&#39;
20250422T074307 DEBUG    merge_metadata_aliases Conflict for &#39;institution&#39; from &#39;institution&#39;; keeping first value
20250422T074307 DEBUG    merge_metadata_aliases Conflict for &#39;doi&#39; from &#39;doi&#39;; keeping first value
20250422T074307 DEBUG    _consolidate_contributors Starting _consolidate_contributors with attrs: {&#39;title&#39;: &#39;RAPID MOC timeseries&#39;, &#39;institution&#39;: &#39;National Oceanography Centre,UK&#39;, &#39;web_link&#39;: &#39;http://www.rapid.ac.uk/&#39;, &#39;acknowledgement&#39;: &#39;The RAPID-MOC monitoring project is funded by the Natural Environment Research Council and data is freely available from www.rapid.ac.uk/&#39;, &#39;creator_name&#39;: &#39;Ben Moat&#39;, &#39;date_created&#39;: &#39;17-Sep-2024&#39;, &#39;principal_investigator&#39;: &#39;Ben Moat&#39;, &#39;principal_investigator_email&#39;: &#39;ben.moat@noc.ac.uk&#39;, &#39;doi&#39;: &#39;doi: 10.5285/223b34a32dc5c945e0637086abc0f274&#39;, &#39;source_file&#39;: &#39;moc_transports.nc&#39;, &#39;source_path&#39;: &#39;/home/runner/work/amocarray/amocarray/data/moc_transports.nc&#39;, &#39;description&#39;: &#39;RAPID 26N transport estimates dataset&#39;, &#39;project&#39;: &#39;RAPID-AMOC 26°N array&#39;, &#39;comment&#39;: &#39;Dataset accessed and processed via xarray&#39;, &#39;data_product&#39;: &#39;RAPID layer transport time series&#39;, &#39;program&#39;: &#39;RAPID&#39;, &#39;license&#39;: &#39;CC-BY 4.0&#39;, &#39;featureType&#39;: &#39;timeSeries&#39;, &#39;Conventions&#39;: &#39;CF-1.8, ACDD-1.3&#39;, &#39;time_coverage_start&#39;: &#39;2004-04-01&#39;, &#39;time_coverage_end&#39;: &#39;2023-12-31&#39;, &#39;platform&#39;: &#39;Mooring array&#39;, &#39;creator_email&#39;: &#39;ben.moat@noc.ac.uk&#39;, &#39;summary&#39;: &#39;RAPID 26N transport estimates dataset&#39;}
20250422T074307 DEBUG    _consolidate_contributors Email buckets: {&#39;principal_investigator_email&#39;: [&#39;ben.moat@noc.ac.uk&#39;], &#39;creator_email&#39;: [&#39;ben.moat@noc.ac.uk&#39;]}
20250422T074307 DEBUG    _consolidate_contributors URL buckets: {}
20250422T074307 DEBUG    _consolidate_contributors Names: [&#39;Ben Moat&#39;, &#39;Ben Moat&#39;]; Roles: [&#39;creator&#39;, &#39;PI&#39;]; Sources: [&#39;creator_name&#39;, &#39;principal_investigator&#39;]
20250422T074307 DEBUG    _consolidate_contributors Set contributor_name=&#39;Ben Moat, Ben Moat&#39;, contributor_role=&#39;creator, PI&#39;
20250422T074307 DEBUG    _consolidate_contributors Aligned contributor_email=&#39;ben.moat@noc.ac.uk, ben.moat@noc.ac.uk&#39;
20250422T074307 DEBUG    _consolidate_contributors Aligned contributor_id=&#39;, &#39;
20250422T074307 DEBUG    _consolidate_contributors Matched institution &#39;National Oceanography Centre\xa0(Southampton) (UK)&#39; → &#39;national oceanography centre (southampton) (uk)&#39; → &#39;https://edmo.seadatanet.org/report/17&#39;
20250422T074307 DEBUG    _consolidate_contributors Finished _consolidate_contributors: {&#39;title&#39;: &#39;RAPID MOC timeseries&#39;, &#39;web_link&#39;: &#39;http://www.rapid.ac.uk/&#39;, &#39;acknowledgement&#39;: &#39;The RAPID-MOC monitoring project is funded by the Natural Environment Research Council and data is freely available from www.rapid.ac.uk/&#39;, &#39;date_created&#39;: &#39;17-Sep-2024&#39;, &#39;doi&#39;: &#39;doi: 10.5285/223b34a32dc5c945e0637086abc0f274&#39;, &#39;source_file&#39;: &#39;moc_transports.nc&#39;, &#39;source_path&#39;: &#39;/home/runner/work/amocarray/amocarray/data/moc_transports.nc&#39;, &#39;description&#39;: &#39;RAPID 26N transport estimates dataset&#39;, &#39;project&#39;: &#39;RAPID-AMOC 26°N array&#39;, &#39;comment&#39;: &#39;Dataset accessed and processed via xarray&#39;, &#39;data_product&#39;: &#39;RAPID layer transport time series&#39;, &#39;program&#39;: &#39;RAPID&#39;, &#39;license&#39;: &#39;CC-BY 4.0&#39;, &#39;featureType&#39;: &#39;timeSeries&#39;, &#39;Conventions&#39;: &#39;CF-1.8, ACDD-1.3&#39;, &#39;time_coverage_start&#39;: &#39;2004-04-01&#39;, &#39;time_coverage_end&#39;: &#39;2023-12-31&#39;, &#39;platform&#39;: &#39;Mooring array&#39;, &#39;summary&#39;: &#39;RAPID 26N transport estimates dataset&#39;, &#39;contributor_name&#39;: &#39;Ben Moat, Ben Moat&#39;, &#39;contributor_role&#39;: &#39;creator, PI&#39;, &#39;contributor_email&#39;: &#39;ben.moat@noc.ac.uk, ben.moat@noc.ac.uk&#39;, &#39;contributor_id&#39;: &#39;, &#39;, &#39;contributing_institutions&#39;: &#39;National Oceanography Centre\xa0(Southampton) (UK)&#39;, &#39;contributing_institutions_vocabulary&#39;: &#39;https://edmo.seadatanet.org/report/17&#39;, &#39;contributing_institutions_role&#39;: &#39;&#39;, &#39;contributing_institutions_role_vocabulary&#39;: &#39;&#39;}
20250422T074307 DEBUG    normalize_and_add_vocabulary Normalized &#39;platform&#39;: &#39;Mooring array&#39; → &#39;mooring&#39;
20250422T074307 DEBUG    normalize_and_add_vocabulary Added vocabulary for &#39;platform&#39;: https://vocab.nerc.ac.uk/collection/L06/
20250422T074307 DEBUG    normalize_and_add_vocabulary Added vocabulary for &#39;featureType&#39;: https://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#_features_and_feature_types
20250422T074307 INFO     setup_logger Logger initialized for array: rapid, writing to /home/runner/work/amocarray/amocarray/logs/RAPID_20250422T07_read.log
20250422T074307 INFO     load_dataset Loading dataset for array: rapid
20250422T074307 INFO     read_rapid Starting to read RAPID dataset
20250422T074307 INFO     resolve_file_path Using cached file: /home/runner/work/amocarray/amocarray/data/moc_vertical.nc
20250422T074307 INFO     read_rapid Opening RAPID dataset: /home/runner/work/amocarray/amocarray/data/moc_vertical.nc
20250422T074307 INFO     read_rapid Attaching metadata to RAPID dataset from file: moc_vertical.nc
20250422T074307 INFO     resolve_file_path Downloading file from https://rapid.ac.uk/sites/default/files/rapid_data/ts_gridded.nc to /home/runner/work/amocarray/amocarray/data
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Summary for array &#39;rapid&#39;:
Total datasets loaded: 1

Dataset 1:
  Source file: moc_transports.nc
  Time coverage: TIME variable not found
  Dimensions:
    - time: 13779
  Variables:
    - t_therm10: shape (13779,)
    - t_aiw10: shape (13779,)
    - t_ud10: shape (13779,)
    - t_ld10: shape (13779,)
    - t_bw10: shape (13779,)
    - t_gs10: shape (13779,)
    - t_ek10: shape (13779,)
    - t_umo10: shape (13779,)
    - moc_mar_hc10: shape (13779,)

</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
20250422T074335 INFO     read_rapid Opening RAPID dataset: /home/runner/work/amocarray/amocarray/data/ts_gridded.nc
20250422T074335 INFO     read_rapid Attaching metadata to RAPID dataset from file: ts_gridded.nc
20250422T074335 INFO     resolve_file_path Using cached file: /home/runner/work/amocarray/amocarray/data/moc_transports.nc
20250422T074335 INFO     read_rapid Opening RAPID dataset: /home/runner/work/amocarray/amocarray/data/moc_transports.nc
20250422T074335 INFO     read_rapid Attaching metadata to RAPID dataset from file: moc_transports.nc
20250422T074335 INFO     read_rapid Successfully loaded 3 RAPID dataset(s)
20250422T074335 INFO     load_dataset Successfully loaded 3 dataset(s) for array: rapid
20250422T074335 INFO     _summarise_datasets
Summary for array &#39;rapid&#39;:
Total datasets loaded: 3

Dataset 1:
  Source file: moc_vertical.nc
  Time coverage: TIME variable not found
  Dimensions:
    - time: 13779
    - depth: 307
  Variables:
    - stream_function_mar: shape (307, 13779)

Dataset 2:
  Source file: ts_gridded.nc
  Time coverage: TIME variable not found
  Dimensions:
    - time: 13779
    - depth: 242
  Variables:
    - pressure: shape (242,)
    - TG_west: shape (242, 13779)
    - SG_west: shape (242, 13779)
    - TG_wb3: shape (242, 13779)
    - SG_wb3: shape (242, 13779)
    - TG_east: shape (242, 13779)
    - SG_east: shape (242, 13779)
    - TG_marwest: shape (242, 13779)
    - SG_marwest: shape (242, 13779)
    - TG_mareast: shape (242, 13779)
    - SG_mareast: shape (242, 13779)
    - TG_west_flag: shape (242, 13779)
    - SG_west_flag: shape (242, 13779)
    - TG_east_flag: shape (242, 13779)
    - SG_east_flag: shape (242, 13779)
    - TG_marwest_flag: shape (242, 13779)
    - SG_marwest_flag: shape (242, 13779)
    - TG_mareast_flag: shape (242, 13779)
    - SG_mareast_flag: shape (242, 13779)

Dataset 3:
  Source file: moc_transports.nc
  Time coverage: TIME variable not found
  Dimensions:
    - time: 13779
  Variables:
    - t_therm10: shape (13779,)
    - t_aiw10: shape (13779,)
    - t_ud10: shape (13779,)
    - t_ld10: shape (13779,)
    - t_bw10: shape (13779,)
    - t_gs10: shape (13779,)
    - t_ek10: shape (13779,)
    - t_umo10: shape (13779,)
    - moc_mar_hc10: shape (13779,)

20250422T074335 DEBUG    standardise_array Standardising moc_vertical.nc for RAPID
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Title&#39; → &#39;title&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Institution&#39; → &#39;institution&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Website&#39; → &#39;web_link&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Acknowledgement&#39; → &#39;acknowledgement&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Created_by&#39; → &#39;creator_name&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Creation_date&#39; → &#39;date_created&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Principle_investigator&#39; → &#39;principal_investigator&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Principle_investigator_email&#39; → &#39;principal_investigator_email&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;DOI&#39; → &#39;doi&#39;
20250422T074335 DEBUG    merge_metadata_aliases Conflict for &#39;web_link&#39; from &#39;web_link&#39;; keeping first value
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;note&#39; → &#39;comment&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;weblink&#39; → &#39;web_link&#39;
20250422T074335 DEBUG    merge_metadata_aliases Conflict for &#39;web_link&#39; from &#39;weblink&#39;; keeping first value
20250422T074335 DEBUG    merge_metadata_aliases Conflict for &#39;comment&#39; from &#39;comment&#39;; keeping first value
20250422T074335 DEBUG    merge_metadata_aliases Conflict for &#39;acknowledgement&#39; from &#39;acknowledgement&#39;; keeping first value
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;platform_type&#39; → &#39;platform&#39;
20250422T074335 DEBUG    merge_metadata_aliases Skipped duplicate (identical) key &#39;creator_name&#39; → &#39;creator_name&#39;
20250422T074335 DEBUG    merge_metadata_aliases Conflict for &#39;institution&#39; from &#39;institution&#39;; keeping first value
20250422T074335 DEBUG    merge_metadata_aliases Conflict for &#39;doi&#39; from &#39;doi&#39;; keeping first value
20250422T074335 DEBUG    _consolidate_contributors Starting _consolidate_contributors with attrs: {&#39;title&#39;: &#39;RAPID streamfunction&#39;, &#39;institution&#39;: &#39;National Oceanography Centre,UK&#39;, &#39;web_link&#39;: &#39;http://www.rapid.ac.uk/&#39;, &#39;acknowledgement&#39;: &#39;The RAPID 26N AMOC monitoring project is funded by the Natural Environment Research Council and data is freely available from www.rapid.ac.uk&#39;, &#39;creator_name&#39;: &#39;Ben Moat&#39;, &#39;date_created&#39;: &#39;17-Sep-2024&#39;, &#39;principal_investigator&#39;: &#39;Ben Moat&#39;, &#39;principal_investigator_email&#39;: &#39;ben.moat@noc.ac.uk&#39;, &#39;doi&#39;: &#39;doi: 10.5285/223b34a32dc5c945e0637086abc0f274&#39;, &#39;source_file&#39;: &#39;moc_vertical.nc&#39;, &#39;source_path&#39;: &#39;/home/runner/work/amocarray/amocarray/data/moc_vertical.nc&#39;, &#39;description&#39;: &#39;RAPID 26N transport estimates dataset&#39;, &#39;project&#39;: &#39;RAPID-AMOC 26°N array&#39;, &#39;comment&#39;: &#39;Dataset accessed and processed via xarray&#39;, &#39;data_product&#39;: &#39;RAPID vertical streamfunction time series&#39;, &#39;program&#39;: &#39;RAPID&#39;, &#39;license&#39;: &#39;CC-BY 4.0&#39;, &#39;featureType&#39;: &#39;timeSeries&#39;, &#39;Conventions&#39;: &#39;CF-1.8, ACDD-1.3&#39;, &#39;time_coverage_start&#39;: &#39;2004-04-01&#39;, &#39;time_coverage_end&#39;: &#39;2023-12-31&#39;, &#39;platform&#39;: &#39;Mooring array&#39;, &#39;creator_email&#39;: &#39;ben.moat@noc.ac.uk&#39;, &#39;summary&#39;: &#39;RAPID 26N transport estimates dataset&#39;}
20250422T074335 DEBUG    _consolidate_contributors Email buckets: {&#39;principal_investigator_email&#39;: [&#39;ben.moat@noc.ac.uk&#39;], &#39;creator_email&#39;: [&#39;ben.moat@noc.ac.uk&#39;]}
20250422T074335 DEBUG    _consolidate_contributors URL buckets: {}
20250422T074335 DEBUG    _consolidate_contributors Names: [&#39;Ben Moat&#39;, &#39;Ben Moat&#39;]; Roles: [&#39;creator&#39;, &#39;PI&#39;]; Sources: [&#39;creator_name&#39;, &#39;principal_investigator&#39;]
20250422T074335 DEBUG    _consolidate_contributors Set contributor_name=&#39;Ben Moat, Ben Moat&#39;, contributor_role=&#39;creator, PI&#39;
20250422T074335 DEBUG    _consolidate_contributors Aligned contributor_email=&#39;ben.moat@noc.ac.uk, ben.moat@noc.ac.uk&#39;
20250422T074335 DEBUG    _consolidate_contributors Aligned contributor_id=&#39;, &#39;
20250422T074335 DEBUG    _consolidate_contributors Matched institution &#39;National Oceanography Centre\xa0(Southampton) (UK)&#39; → &#39;national oceanography centre (southampton) (uk)&#39; → &#39;https://edmo.seadatanet.org/report/17&#39;
20250422T074335 DEBUG    _consolidate_contributors Finished _consolidate_contributors: {&#39;title&#39;: &#39;RAPID streamfunction&#39;, &#39;web_link&#39;: &#39;http://www.rapid.ac.uk/&#39;, &#39;acknowledgement&#39;: &#39;The RAPID 26N AMOC monitoring project is funded by the Natural Environment Research Council and data is freely available from www.rapid.ac.uk&#39;, &#39;date_created&#39;: &#39;17-Sep-2024&#39;, &#39;doi&#39;: &#39;doi: 10.5285/223b34a32dc5c945e0637086abc0f274&#39;, &#39;source_file&#39;: &#39;moc_vertical.nc&#39;, &#39;source_path&#39;: &#39;/home/runner/work/amocarray/amocarray/data/moc_vertical.nc&#39;, &#39;description&#39;: &#39;RAPID 26N transport estimates dataset&#39;, &#39;project&#39;: &#39;RAPID-AMOC 26°N array&#39;, &#39;comment&#39;: &#39;Dataset accessed and processed via xarray&#39;, &#39;data_product&#39;: &#39;RAPID vertical streamfunction time series&#39;, &#39;program&#39;: &#39;RAPID&#39;, &#39;license&#39;: &#39;CC-BY 4.0&#39;, &#39;featureType&#39;: &#39;timeSeries&#39;, &#39;Conventions&#39;: &#39;CF-1.8, ACDD-1.3&#39;, &#39;time_coverage_start&#39;: &#39;2004-04-01&#39;, &#39;time_coverage_end&#39;: &#39;2023-12-31&#39;, &#39;platform&#39;: &#39;Mooring array&#39;, &#39;summary&#39;: &#39;RAPID 26N transport estimates dataset&#39;, &#39;contributor_name&#39;: &#39;Ben Moat, Ben Moat&#39;, &#39;contributor_role&#39;: &#39;creator, PI&#39;, &#39;contributor_email&#39;: &#39;ben.moat@noc.ac.uk, ben.moat@noc.ac.uk&#39;, &#39;contributor_id&#39;: &#39;, &#39;, &#39;contributing_institutions&#39;: &#39;National Oceanography Centre\xa0(Southampton) (UK)&#39;, &#39;contributing_institutions_vocabulary&#39;: &#39;https://edmo.seadatanet.org/report/17&#39;, &#39;contributing_institutions_role&#39;: &#39;&#39;, &#39;contributing_institutions_role_vocabulary&#39;: &#39;&#39;}
20250422T074335 DEBUG    normalize_and_add_vocabulary Normalized &#39;platform&#39;: &#39;Mooring array&#39; → &#39;mooring&#39;
20250422T074335 DEBUG    normalize_and_add_vocabulary Added vocabulary for &#39;platform&#39;: https://vocab.nerc.ac.uk/collection/L06/
20250422T074335 DEBUG    normalize_and_add_vocabulary Added vocabulary for &#39;featureType&#39;: https://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#_features_and_feature_types
20250422T074335 DEBUG    standardise_array Standardising ts_gridded.nc for RAPID
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Title&#39; → &#39;title&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Institution&#39; → &#39;institution&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Website&#39; → &#39;web_link&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Acknowledgement&#39; → &#39;acknowledgement&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Created_by&#39; → &#39;creator_name&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Creation_date&#39; → &#39;date_created&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Principle_investigator&#39; → &#39;principal_investigator&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Principle_investigator_email&#39; → &#39;principal_investigator_email&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;DOI&#39; → &#39;doi&#39;
20250422T074335 DEBUG    merge_metadata_aliases Conflict for &#39;web_link&#39; from &#39;web_link&#39;; keeping first value
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;note&#39; → &#39;comment&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;weblink&#39; → &#39;web_link&#39;
20250422T074335 DEBUG    merge_metadata_aliases Conflict for &#39;web_link&#39; from &#39;weblink&#39;; keeping first value
20250422T074335 DEBUG    merge_metadata_aliases Conflict for &#39;comment&#39; from &#39;comment&#39;; keeping first value
20250422T074335 DEBUG    merge_metadata_aliases Conflict for &#39;acknowledgement&#39; from &#39;acknowledgement&#39;; keeping first value
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;platform_type&#39; → &#39;platform&#39;
20250422T074335 DEBUG    merge_metadata_aliases Skipped duplicate (identical) key &#39;creator_name&#39; → &#39;creator_name&#39;
20250422T074335 DEBUG    merge_metadata_aliases Conflict for &#39;institution&#39; from &#39;institution&#39;; keeping first value
20250422T074335 DEBUG    merge_metadata_aliases Conflict for &#39;doi&#39; from &#39;doi&#39;; keeping first value
20250422T074335 DEBUG    _consolidate_contributors Starting _consolidate_contributors with attrs: {&#39;title&#39;: &#39;RAPID streamfunction&#39;, &#39;institution&#39;: &#39;National Oceanography Centre,UK&#39;, &#39;web_link&#39;: &#39;http://www.rapid.ac.uk/&#39;, &#39;acknowledgement&#39;: &#39;The RAPID 26N AMOC monitoring project is funded by the Natural Environment Research Council and data is freely available from www.rapid.ac.uk&#39;, &#39;creator_name&#39;: &#39;Ben Moat&#39;, &#39;date_created&#39;: &#39;17-Sep-2024&#39;, &#39;principal_investigator&#39;: &#39;Ben Moat&#39;, &#39;principal_investigator_email&#39;: &#39;ben.moat@noc.ac.uk&#39;, &#39;doi&#39;: &#39;doi: 10.5285/223b34a32dc5c945e0637086abc0f274&#39;, &#39;source_file&#39;: &#39;ts_gridded.nc&#39;, &#39;source_path&#39;: &#39;/home/runner/work/amocarray/amocarray/data/ts_gridded.nc&#39;, &#39;description&#39;: &#39;RAPID 26N transport estimates dataset&#39;, &#39;project&#39;: &#39;RAPID-AMOC 26°N array&#39;, &#39;comment&#39;: &#39;Dataset accessed and processed via xarray&#39;, &#39;data_product&#39;: &#39;RAPID gridded temperature and salinity&#39;, &#39;program&#39;: &#39;RAPID&#39;, &#39;license&#39;: &#39;CC-BY 4.0&#39;, &#39;featureType&#39;: &#39;timeSeries&#39;, &#39;Conventions&#39;: &#39;CF-1.8, ACDD-1.3&#39;, &#39;time_coverage_start&#39;: &#39;2004-04-01&#39;, &#39;time_coverage_end&#39;: &#39;2023-12-31&#39;, &#39;platform&#39;: &#39;Mooring array&#39;, &#39;creator_email&#39;: &#39;ben.moat@noc.ac.uk&#39;, &#39;summary&#39;: &#39;RAPID 26N transport estimates dataset&#39;}
20250422T074335 DEBUG    _consolidate_contributors Email buckets: {&#39;principal_investigator_email&#39;: [&#39;ben.moat@noc.ac.uk&#39;], &#39;creator_email&#39;: [&#39;ben.moat@noc.ac.uk&#39;]}
20250422T074335 DEBUG    _consolidate_contributors URL buckets: {}
20250422T074335 DEBUG    _consolidate_contributors Names: [&#39;Ben Moat&#39;, &#39;Ben Moat&#39;]; Roles: [&#39;creator&#39;, &#39;PI&#39;]; Sources: [&#39;creator_name&#39;, &#39;principal_investigator&#39;]
20250422T074335 DEBUG    _consolidate_contributors Set contributor_name=&#39;Ben Moat, Ben Moat&#39;, contributor_role=&#39;creator, PI&#39;
20250422T074335 DEBUG    _consolidate_contributors Aligned contributor_email=&#39;ben.moat@noc.ac.uk, ben.moat@noc.ac.uk&#39;
20250422T074335 DEBUG    _consolidate_contributors Aligned contributor_id=&#39;, &#39;
20250422T074335 DEBUG    _consolidate_contributors Matched institution &#39;National Oceanography Centre\xa0(Southampton) (UK)&#39; → &#39;national oceanography centre (southampton) (uk)&#39; → &#39;https://edmo.seadatanet.org/report/17&#39;
20250422T074335 DEBUG    _consolidate_contributors Finished _consolidate_contributors: {&#39;title&#39;: &#39;RAPID streamfunction&#39;, &#39;web_link&#39;: &#39;http://www.rapid.ac.uk/&#39;, &#39;acknowledgement&#39;: &#39;The RAPID 26N AMOC monitoring project is funded by the Natural Environment Research Council and data is freely available from www.rapid.ac.uk&#39;, &#39;date_created&#39;: &#39;17-Sep-2024&#39;, &#39;doi&#39;: &#39;doi: 10.5285/223b34a32dc5c945e0637086abc0f274&#39;, &#39;source_file&#39;: &#39;ts_gridded.nc&#39;, &#39;source_path&#39;: &#39;/home/runner/work/amocarray/amocarray/data/ts_gridded.nc&#39;, &#39;description&#39;: &#39;RAPID 26N transport estimates dataset&#39;, &#39;project&#39;: &#39;RAPID-AMOC 26°N array&#39;, &#39;comment&#39;: &#39;Dataset accessed and processed via xarray&#39;, &#39;data_product&#39;: &#39;RAPID gridded temperature and salinity&#39;, &#39;program&#39;: &#39;RAPID&#39;, &#39;license&#39;: &#39;CC-BY 4.0&#39;, &#39;featureType&#39;: &#39;timeSeries&#39;, &#39;Conventions&#39;: &#39;CF-1.8, ACDD-1.3&#39;, &#39;time_coverage_start&#39;: &#39;2004-04-01&#39;, &#39;time_coverage_end&#39;: &#39;2023-12-31&#39;, &#39;platform&#39;: &#39;Mooring array&#39;, &#39;summary&#39;: &#39;RAPID 26N transport estimates dataset&#39;, &#39;contributor_name&#39;: &#39;Ben Moat, Ben Moat&#39;, &#39;contributor_role&#39;: &#39;creator, PI&#39;, &#39;contributor_email&#39;: &#39;ben.moat@noc.ac.uk, ben.moat@noc.ac.uk&#39;, &#39;contributor_id&#39;: &#39;, &#39;, &#39;contributing_institutions&#39;: &#39;National Oceanography Centre\xa0(Southampton) (UK)&#39;, &#39;contributing_institutions_vocabulary&#39;: &#39;https://edmo.seadatanet.org/report/17&#39;, &#39;contributing_institutions_role&#39;: &#39;&#39;, &#39;contributing_institutions_role_vocabulary&#39;: &#39;&#39;}
20250422T074335 DEBUG    normalize_and_add_vocabulary Normalized &#39;platform&#39;: &#39;Mooring array&#39; → &#39;mooring&#39;
20250422T074335 DEBUG    normalize_and_add_vocabulary Added vocabulary for &#39;platform&#39;: https://vocab.nerc.ac.uk/collection/L06/
20250422T074335 DEBUG    normalize_and_add_vocabulary Added vocabulary for &#39;featureType&#39;: https://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#_features_and_feature_types
20250422T074335 DEBUG    standardise_array Standardising moc_transports.nc for RAPID
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Title&#39; → &#39;title&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Institution&#39; → &#39;institution&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Website&#39; → &#39;web_link&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Acknowledgement&#39; → &#39;acknowledgement&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Created_by&#39; → &#39;creator_name&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Creation_date&#39; → &#39;date_created&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Principle_investigator&#39; → &#39;principal_investigator&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;Principle_investigator_email&#39; → &#39;principal_investigator_email&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;DOI&#39; → &#39;doi&#39;
20250422T074335 DEBUG    merge_metadata_aliases Conflict for &#39;web_link&#39; from &#39;web_link&#39;; keeping first value
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;note&#39; → &#39;comment&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;weblink&#39; → &#39;web_link&#39;
20250422T074335 DEBUG    merge_metadata_aliases Conflict for &#39;web_link&#39; from &#39;weblink&#39;; keeping first value
20250422T074335 DEBUG    merge_metadata_aliases Conflict for &#39;comment&#39; from &#39;comment&#39;; keeping first value
20250422T074335 DEBUG    merge_metadata_aliases Skipped duplicate (identical) key &#39;acknowledgement&#39; → &#39;acknowledgement&#39;
20250422T074335 DEBUG    merge_metadata_aliases Renaming key &#39;platform_type&#39; → &#39;platform&#39;
20250422T074335 DEBUG    merge_metadata_aliases Skipped duplicate (identical) key &#39;creator_name&#39; → &#39;creator_name&#39;
20250422T074335 DEBUG    merge_metadata_aliases Conflict for &#39;institution&#39; from &#39;institution&#39;; keeping first value
20250422T074335 DEBUG    merge_metadata_aliases Conflict for &#39;doi&#39; from &#39;doi&#39;; keeping first value
20250422T074335 DEBUG    _consolidate_contributors Starting _consolidate_contributors with attrs: {&#39;title&#39;: &#39;RAPID MOC timeseries&#39;, &#39;institution&#39;: &#39;National Oceanography Centre,UK&#39;, &#39;web_link&#39;: &#39;http://www.rapid.ac.uk/&#39;, &#39;acknowledgement&#39;: &#39;The RAPID-MOC monitoring project is funded by the Natural Environment Research Council and data is freely available from www.rapid.ac.uk/&#39;, &#39;creator_name&#39;: &#39;Ben Moat&#39;, &#39;date_created&#39;: &#39;17-Sep-2024&#39;, &#39;principal_investigator&#39;: &#39;Ben Moat&#39;, &#39;principal_investigator_email&#39;: &#39;ben.moat@noc.ac.uk&#39;, &#39;doi&#39;: &#39;doi: 10.5285/223b34a32dc5c945e0637086abc0f274&#39;, &#39;source_file&#39;: &#39;moc_transports.nc&#39;, &#39;source_path&#39;: &#39;/home/runner/work/amocarray/amocarray/data/moc_transports.nc&#39;, &#39;description&#39;: &#39;RAPID 26N transport estimates dataset&#39;, &#39;project&#39;: &#39;RAPID-AMOC 26°N array&#39;, &#39;comment&#39;: &#39;Dataset accessed and processed via xarray&#39;, &#39;data_product&#39;: &#39;RAPID layer transport time series&#39;, &#39;program&#39;: &#39;RAPID&#39;, &#39;license&#39;: &#39;CC-BY 4.0&#39;, &#39;featureType&#39;: &#39;timeSeries&#39;, &#39;Conventions&#39;: &#39;CF-1.8, ACDD-1.3&#39;, &#39;time_coverage_start&#39;: &#39;2004-04-01&#39;, &#39;time_coverage_end&#39;: &#39;2023-12-31&#39;, &#39;platform&#39;: &#39;Mooring array&#39;, &#39;creator_email&#39;: &#39;ben.moat@noc.ac.uk&#39;, &#39;summary&#39;: &#39;RAPID 26N transport estimates dataset&#39;}
20250422T074335 DEBUG    _consolidate_contributors Email buckets: {&#39;principal_investigator_email&#39;: [&#39;ben.moat@noc.ac.uk&#39;], &#39;creator_email&#39;: [&#39;ben.moat@noc.ac.uk&#39;]}
20250422T074335 DEBUG    _consolidate_contributors URL buckets: {}
20250422T074335 DEBUG    _consolidate_contributors Names: [&#39;Ben Moat&#39;, &#39;Ben Moat&#39;]; Roles: [&#39;creator&#39;, &#39;PI&#39;]; Sources: [&#39;creator_name&#39;, &#39;principal_investigator&#39;]
20250422T074335 DEBUG    _consolidate_contributors Set contributor_name=&#39;Ben Moat, Ben Moat&#39;, contributor_role=&#39;creator, PI&#39;
20250422T074335 DEBUG    _consolidate_contributors Aligned contributor_email=&#39;ben.moat@noc.ac.uk, ben.moat@noc.ac.uk&#39;
20250422T074335 DEBUG    _consolidate_contributors Aligned contributor_id=&#39;, &#39;
20250422T074335 DEBUG    _consolidate_contributors Matched institution &#39;National Oceanography Centre\xa0(Southampton) (UK)&#39; → &#39;national oceanography centre (southampton) (uk)&#39; → &#39;https://edmo.seadatanet.org/report/17&#39;
20250422T074335 DEBUG    _consolidate_contributors Finished _consolidate_contributors: {&#39;title&#39;: &#39;RAPID MOC timeseries&#39;, &#39;web_link&#39;: &#39;http://www.rapid.ac.uk/&#39;, &#39;acknowledgement&#39;: &#39;The RAPID-MOC monitoring project is funded by the Natural Environment Research Council and data is freely available from www.rapid.ac.uk/&#39;, &#39;date_created&#39;: &#39;17-Sep-2024&#39;, &#39;doi&#39;: &#39;doi: 10.5285/223b34a32dc5c945e0637086abc0f274&#39;, &#39;source_file&#39;: &#39;moc_transports.nc&#39;, &#39;source_path&#39;: &#39;/home/runner/work/amocarray/amocarray/data/moc_transports.nc&#39;, &#39;description&#39;: &#39;RAPID 26N transport estimates dataset&#39;, &#39;project&#39;: &#39;RAPID-AMOC 26°N array&#39;, &#39;comment&#39;: &#39;Dataset accessed and processed via xarray&#39;, &#39;data_product&#39;: &#39;RAPID layer transport time series&#39;, &#39;program&#39;: &#39;RAPID&#39;, &#39;license&#39;: &#39;CC-BY 4.0&#39;, &#39;featureType&#39;: &#39;timeSeries&#39;, &#39;Conventions&#39;: &#39;CF-1.8, ACDD-1.3&#39;, &#39;time_coverage_start&#39;: &#39;2004-04-01&#39;, &#39;time_coverage_end&#39;: &#39;2023-12-31&#39;, &#39;platform&#39;: &#39;Mooring array&#39;, &#39;summary&#39;: &#39;RAPID 26N transport estimates dataset&#39;, &#39;contributor_name&#39;: &#39;Ben Moat, Ben Moat&#39;, &#39;contributor_role&#39;: &#39;creator, PI&#39;, &#39;contributor_email&#39;: &#39;ben.moat@noc.ac.uk, ben.moat@noc.ac.uk&#39;, &#39;contributor_id&#39;: &#39;, &#39;, &#39;contributing_institutions&#39;: &#39;National Oceanography Centre\xa0(Southampton) (UK)&#39;, &#39;contributing_institutions_vocabulary&#39;: &#39;https://edmo.seadatanet.org/report/17&#39;, &#39;contributing_institutions_role&#39;: &#39;&#39;, &#39;contributing_institutions_role_vocabulary&#39;: &#39;&#39;}
20250422T074335 DEBUG    normalize_and_add_vocabulary Normalized &#39;platform&#39;: &#39;Mooring array&#39; → &#39;mooring&#39;
20250422T074335 DEBUG    normalize_and_add_vocabulary Added vocabulary for &#39;platform&#39;: https://vocab.nerc.ac.uk/collection/L06/
20250422T074335 DEBUG    normalize_and_add_vocabulary Added vocabulary for &#39;featureType&#39;: https://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#_features_and_feature_types
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Summary for array &#39;rapid&#39;:
Total datasets loaded: 3

Dataset 1:
  Source file: moc_vertical.nc
  Time coverage: TIME variable not found
  Dimensions:
    - time: 13779
    - depth: 307
  Variables:
    - stream_function_mar: shape (307, 13779)

Dataset 2:
  Source file: ts_gridded.nc
  Time coverage: TIME variable not found
  Dimensions:
    - time: 13779
    - depth: 242
  Variables:
    - pressure: shape (242,)
    - TG_west: shape (242, 13779)
    - SG_west: shape (242, 13779)
    - TG_wb3: shape (242, 13779)
    - SG_wb3: shape (242, 13779)
    - TG_east: shape (242, 13779)
    - SG_east: shape (242, 13779)
    - TG_marwest: shape (242, 13779)
    - SG_marwest: shape (242, 13779)
    - TG_mareast: shape (242, 13779)
    - SG_mareast: shape (242, 13779)
    - TG_west_flag: shape (242, 13779)
    - SG_west_flag: shape (242, 13779)
    - TG_east_flag: shape (242, 13779)
    - SG_east_flag: shape (242, 13779)
    - TG_marwest_flag: shape (242, 13779)
    - SG_marwest_flag: shape (242, 13779)
    - TG_mareast_flag: shape (242, 13779)
    - SG_mareast_flag: shape (242, 13779)

Dataset 3:
  Source file: moc_transports.nc
  Time coverage: TIME variable not found
  Dimensions:
    - time: 13779
  Variables:
    - t_therm10: shape (13779,)
    - t_aiw10: shape (13779,)
    - t_ud10: shape (13779,)
    - t_ld10: shape (13779,)
    - t_bw10: shape (13779,)
    - t_gs10: shape (13779,)
    - t_ek10: shape (13779,)
    - t_umo10: shape (13779,)
    - moc_mar_hc10: shape (13779,)

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 1MB
Dimensions:       (TIME: 13779)
Coordinates:
  * TIME          (TIME) datetime64[ns] 110kB 2004-04-02 ... 2023-02-11
Data variables:
    t_therm10     (TIME) float64 110kB ...
    t_aiw10       (TIME) float64 110kB ...
    t_ud10        (TIME) float64 110kB ...
    t_ld10        (TIME) float64 110kB ...
    t_bw10        (TIME) float64 110kB ...
    t_gs10        (TIME) float64 110kB ...
    t_ek10        (TIME) float64 110kB ...
    t_umo10       (TIME) float64 110kB ...
    moc_mar_hc10  (TIME) float64 110kB ...
Attributes: (12/29)
    title:                                      RAPID MOC timeseries
    platform:                                   mooring
    platform_vocabulary:                        https://vocab.nerc.ac.uk/coll...
    time_coverage_start:                        2004-04-01
    time_coverage_end:                          2023-12-31
    program:                                    RAPID
    ...                                         ...
    description:                                RAPID 26N transport estimates...
    data_product:                               RAPID layer transport time se...
    license:                                    CC-BY 4.0
    Conventions:                                CF-1.8, ACDD-1.3
    summary:                                    RAPID 26N transport estimates...
    featureType_vocabulary:                     https://cfconventions.org/cf-...</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-0c7deb52-74d4-479f-9660-c47d9627c865' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-0c7deb52-74d4-479f-9660-c47d9627c865' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>TIME</span>: 13779</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-9050a4c5-588b-48ce-9725-2732b7efec90' class='xr-section-summary-in' type='checkbox'  checked><label for='section-9050a4c5-588b-48ce-9725-2732b7efec90' class='xr-section-summary' >Coordinates: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>TIME</span></div><div class='xr-var-dims'>(TIME)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2004-04-02 ... 2023-02-11</div><input id='attrs-40c43244-26ec-41fa-b5d9-3f8389f4e73d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-40c43244-26ec-41fa-b5d9-3f8389f4e73d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-754a49c7-5523-4ad4-b530-f01c96a87720' class='xr-var-data-in' type='checkbox'><label for='data-754a49c7-5523-4ad4-b530-f01c96a87720' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time in days</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2004-04-02T00:00:00.000000000&#x27;, &#x27;2004-04-02T12:00:00.000000000&#x27;,
       &#x27;2004-04-03T00:00:00.000000000&#x27;, ..., &#x27;2023-02-10T00:00:00.000000000&#x27;,
       &#x27;2023-02-10T12:00:00.000000000&#x27;, &#x27;2023-02-11T00:00:00.000000000&#x27;],
      shape=(13779,), dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-aa622750-13d9-45f7-9bd9-b19a81f787bc' class='xr-section-summary-in' type='checkbox'  checked><label for='section-aa622750-13d9-45f7-9bd9-b19a81f787bc' class='xr-section-summary' >Data variables: <span>(9)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>t_therm10</span></div><div class='xr-var-dims'>(TIME)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-64ca9df9-60e1-4d46-a4a8-a94c408c4c72' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-64ca9df9-60e1-4d46-a4a8-a94c408c4c72' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-79d69485-a82c-45cd-86e4-f433f247d18c' class='xr-var-data-in' type='checkbox'><label for='data-79d69485-a82c-45cd-86e4-f433f247d18c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Transport</dd><dt><span>units :</span></dt><dd>Sv</dd><dt><span>description :</span></dt><dd>Thermocline recirculation 0-800m</dd><dt><span>standard_name :</span></dt><dd>Transport</dd></dl></div><div class='xr-var-data'><pre>[13779 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>t_aiw10</span></div><div class='xr-var-dims'>(TIME)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-e5ba68b2-4f46-4c2d-b135-283862b2e7ce' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e5ba68b2-4f46-4c2d-b135-283862b2e7ce' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-eaf86937-0877-40fc-a2ec-f31da5b15b38' class='xr-var-data-in' type='checkbox'><label for='data-eaf86937-0877-40fc-a2ec-f31da5b15b38' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Transport</dd><dt><span>units :</span></dt><dd>Sv</dd><dt><span>description :</span></dt><dd>Intermediate water 800-1100m</dd><dt><span>standard_name :</span></dt><dd>Transport</dd></dl></div><div class='xr-var-data'><pre>[13779 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>t_ud10</span></div><div class='xr-var-dims'>(TIME)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-01cff1f6-26da-4600-af84-3b8ad8019491' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-01cff1f6-26da-4600-af84-3b8ad8019491' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-659df506-713c-400f-ba6e-99c44f0b5c67' class='xr-var-data-in' type='checkbox'><label for='data-659df506-713c-400f-ba6e-99c44f0b5c67' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Transport</dd><dt><span>units :</span></dt><dd>Sv</dd><dt><span>description :</span></dt><dd>upper NADW 1100-3000m</dd><dt><span>standard_name :</span></dt><dd>Transport</dd></dl></div><div class='xr-var-data'><pre>[13779 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>t_ld10</span></div><div class='xr-var-dims'>(TIME)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-6d72de60-3ab4-412c-b5c9-412e8fc752b0' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-6d72de60-3ab4-412c-b5c9-412e8fc752b0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-33239f02-8d79-46cc-b8e1-70a10b6238e3' class='xr-var-data-in' type='checkbox'><label for='data-33239f02-8d79-46cc-b8e1-70a10b6238e3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Transport</dd><dt><span>units :</span></dt><dd>Sv</dd><dt><span>description :</span></dt><dd>lower NADW 3000-5000m</dd><dt><span>standard_name :</span></dt><dd>Transport</dd></dl></div><div class='xr-var-data'><pre>[13779 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>t_bw10</span></div><div class='xr-var-dims'>(TIME)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-5b166499-9e82-49a8-8338-00644fb3dcfa' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-5b166499-9e82-49a8-8338-00644fb3dcfa' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ced6785d-7440-4751-97d5-b61e42b3fdcb' class='xr-var-data-in' type='checkbox'><label for='data-ced6785d-7440-4751-97d5-b61e42b3fdcb' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Transport</dd><dt><span>units :</span></dt><dd>Sv</dd><dt><span>description :</span></dt><dd>AABW &gt; 5000m</dd><dt><span>standard_name :</span></dt><dd>Transport</dd></dl></div><div class='xr-var-data'><pre>[13779 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>t_gs10</span></div><div class='xr-var-dims'>(TIME)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-274b4170-fe68-4ee9-838e-dfc6a3a6bc6f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-274b4170-fe68-4ee9-838e-dfc6a3a6bc6f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-17d2427c-cda9-4844-ba69-21315845801d' class='xr-var-data-in' type='checkbox'><label for='data-17d2427c-cda9-4844-ba69-21315845801d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Florida Straits Transport</dd><dt><span>units :</span></dt><dd>Sv</dd><dt><span>description :</span></dt><dd>Florida Current from cable measurements</dd><dt><span>standard_name :</span></dt><dd>Transport</dd></dl></div><div class='xr-var-data'><pre>[13779 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>t_ek10</span></div><div class='xr-var-dims'>(TIME)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-d99902ac-a8b5-4534-a814-f64f65645157' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-d99902ac-a8b5-4534-a814-f64f65645157' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4633de30-8423-4fd5-b723-2efb70e81643' class='xr-var-data-in' type='checkbox'><label for='data-4633de30-8423-4fd5-b723-2efb70e81643' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Ekman Transport</dd><dt><span>units :</span></dt><dd>Sv</dd><dt><span>description :</span></dt><dd>Ekman transport from wind stress</dd><dt><span>standard_name :</span></dt><dd>Transport</dd></dl></div><div class='xr-var-data'><pre>[13779 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>t_umo10</span></div><div class='xr-var-dims'>(TIME)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-8e32c5ae-432c-4d7f-960c-20bd2feb8356' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-8e32c5ae-432c-4d7f-960c-20bd2feb8356' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-55267d86-5986-4abc-afec-7717de685c02' class='xr-var-data-in' type='checkbox'><label for='data-55267d86-5986-4abc-afec-7717de685c02' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Transport</dd><dt><span>units :</span></dt><dd>Sv</dd><dt><span>description :</span></dt><dd>Upper Mid-Ocean transport</dd><dt><span>standard_name :</span></dt><dd>Transport</dd></dl></div><div class='xr-var-data'><pre>[13779 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>moc_mar_hc10</span></div><div class='xr-var-dims'>(TIME)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-04413f22-cb9b-4737-ad83-3cd94f9518bc' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-04413f22-cb9b-4737-ad83-3cd94f9518bc' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-bf2e47aa-d6a2-4198-9140-1ddaa1a42f21' class='xr-var-data-in' type='checkbox'><label for='data-bf2e47aa-d6a2-4198-9140-1ddaa1a42f21' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>overturning transport</dd><dt><span>units :</span></dt><dd>Sv</dd><dt><span>description :</span></dt><dd>MOC strength</dd><dt><span>standard_name :</span></dt><dd>Transport</dd></dl></div><div class='xr-var-data'><pre>[13779 values with dtype=float64]</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-26417633-8197-48ac-bebd-703bc70c0416' class='xr-section-summary-in' type='checkbox'  ><label for='section-26417633-8197-48ac-bebd-703bc70c0416' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>TIME</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-a4ce1d49-26d6-4213-8727-82e0f9b0c154' class='xr-index-data-in' type='checkbox'/><label for='index-a4ce1d49-26d6-4213-8727-82e0f9b0c154' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2004-04-02 00:00:00&#x27;, &#x27;2004-04-02 12:00:00&#x27;,
               &#x27;2004-04-03 00:00:00&#x27;, &#x27;2004-04-03 12:00:00&#x27;,
               &#x27;2004-04-04 00:00:00&#x27;, &#x27;2004-04-04 12:00:00&#x27;,
               &#x27;2004-04-05 00:00:00&#x27;, &#x27;2004-04-05 12:00:00&#x27;,
               &#x27;2004-04-06 00:00:00&#x27;, &#x27;2004-04-06 12:00:00&#x27;,
               ...
               &#x27;2023-02-06 12:00:00&#x27;, &#x27;2023-02-07 00:00:00&#x27;,
               &#x27;2023-02-07 12:00:00&#x27;, &#x27;2023-02-08 00:00:00&#x27;,
               &#x27;2023-02-08 12:00:00&#x27;, &#x27;2023-02-09 00:00:00&#x27;,
               &#x27;2023-02-09 12:00:00&#x27;, &#x27;2023-02-10 00:00:00&#x27;,
               &#x27;2023-02-10 12:00:00&#x27;, &#x27;2023-02-11 00:00:00&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;TIME&#x27;, length=13779, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-f3f6addc-faf9-4d47-ae95-c2adff9052d5' class='xr-section-summary-in' type='checkbox'  ><label for='section-f3f6addc-faf9-4d47-ae95-c2adff9052d5' class='xr-section-summary' >Attributes: <span>(29)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>title :</span></dt><dd>RAPID MOC timeseries</dd><dt><span>platform :</span></dt><dd>mooring</dd><dt><span>platform_vocabulary :</span></dt><dd>https://vocab.nerc.ac.uk/collection/L06/</dd><dt><span>time_coverage_start :</span></dt><dd>2004-04-01</dd><dt><span>time_coverage_end :</span></dt><dd>2023-12-31</dd><dt><span>program :</span></dt><dd>RAPID</dd><dt><span>project :</span></dt><dd>RAPID-AMOC 26°N array</dd><dt><span>contributor_name :</span></dt><dd>Ben Moat, Ben Moat</dd><dt><span>contributor_email :</span></dt><dd>ben.moat@noc.ac.uk, ben.moat@noc.ac.uk</dd><dt><span>contributor_id :</span></dt><dd>, </dd><dt><span>contributor_role :</span></dt><dd>creator, PI</dd><dt><span>contributing_institutions :</span></dt><dd>National Oceanography Centre (Southampton) (UK)</dd><dt><span>contributing_institutions_vocabulary :</span></dt><dd>https://edmo.seadatanet.org/report/17</dd><dt><span>contributing_institutions_role :</span></dt><dd></dd><dt><span>contributing_institutions_role_vocabulary :</span></dt><dd></dd><dt><span>doi :</span></dt><dd>doi: 10.5285/223b34a32dc5c945e0637086abc0f274</dd><dt><span>web_link :</span></dt><dd>http://www.rapid.ac.uk/</dd><dt><span>comment :</span></dt><dd>Dataset accessed and processed via xarray</dd><dt><span>date_created :</span></dt><dd>17-Sep-2024</dd><dt><span>featureType :</span></dt><dd>timeSeries</dd><dt><span>acknowledgement :</span></dt><dd>The RAPID-MOC monitoring project is funded by the Natural Environment Research Council and data is freely available from www.rapid.ac.uk/</dd><dt><span>source_file :</span></dt><dd>moc_transports.nc</dd><dt><span>source_path :</span></dt><dd>/home/runner/work/amocarray/amocarray/data/moc_transports.nc</dd><dt><span>description :</span></dt><dd>RAPID 26N transport estimates dataset</dd><dt><span>data_product :</span></dt><dd>RAPID layer transport time series</dd><dt><span>license :</span></dt><dd>CC-BY 4.0</dd><dt><span>Conventions :</span></dt><dd>CF-1.8, ACDD-1.3</dd><dt><span>summary :</span></dt><dd>RAPID 26N transport estimates dataset</dd><dt><span>featureType_vocabulary :</span></dt><dd>https://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#_features_and_feature_types</dd></dl></div></li></ul></div></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="c1"># Resample the dataset to monthly averages</span>
<span class="n">ds_monthly</span> <span class="o">=</span> <span class="n">ds_rapid</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="n">TIME</span><span class="o">=</span><span class="s2">&quot;ME&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># Initialize the figure and axes with a specific figure size</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="c1"># Plot the original dataset in thin grey</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">ds_rapid</span><span class="p">[</span><span class="s2">&quot;TIME&quot;</span><span class="p">],</span>
    <span class="n">ds_rapid</span><span class="p">[</span><span class="s2">&quot;moc_mar_hc10&quot;</span><span class="p">],</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
    <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Original&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Plot the monthly averaged dataset in thick red</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">ds_monthly</span><span class="p">[</span><span class="s2">&quot;TIME&quot;</span><span class="p">],</span>
    <span class="n">ds_monthly</span><span class="p">[</span><span class="s2">&quot;moc_mar_hc10&quot;</span><span class="p">],</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span>
    <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Monthly Average&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Add a horizontal line at y=0</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># Customize the axes</span>
<span class="n">axes</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s2">&quot;top&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axes</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s2">&quot;right&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Add title and labels</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;RAPID 26°N - AMOC&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Time&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Transport [Sv]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.legend.Legend at 0x7fe7c4b09940&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/demo-output_5_1.png" src="_images/demo-output_5_1.png" />
</div>
</div>
</section>
<section id="Load-MOVE-16°N">
<h2>Load MOVE 16°N<a class="headerlink" href="#Load-MOVE-16°N" title="Link to this heading"></a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">datasetsMOVE</span> <span class="o">=</span> <span class="n">readers</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;move&quot;</span><span class="p">)</span>
<span class="n">ds_move</span> <span class="o">=</span> <span class="n">datasetsMOVE</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">standardMOVE</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">standardise</span><span class="o">.</span><span class="n">standardise_move</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;source_file&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">datasetsMOVE</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
20250422T074336 INFO     setup_logger Logger initialized for array: move, writing to /home/runner/work/amocarray/amocarray/logs/MOVE_20250422T07_read.log
20250422T074336 INFO     load_dataset Loading dataset for array: move
20250422T074336 INFO     read_move Starting to read MOVE dataset
20250422T074336 INFO     resolve_file_path Using cached file: /home/runner/work/amocarray/amocarray/data/OS_MOVE_TRANSPORTS.nc
20250422T074336 INFO     read_move Opening MOVE dataset: /home/runner/work/amocarray/amocarray/data/OS_MOVE_TRANSPORTS.nc
20250422T074336 INFO     read_move Attaching metadata to dataset from file: OS_MOVE_TRANSPORTS.nc
20250422T074336 DEBUG    safe_update_attrs Attribute &#39;project&#39; already exists in dataset attrs and will not be overwritten.
20250422T074336 DEBUG    safe_update_attrs Attribute &#39;comment&#39; already exists in dataset attrs and will not be overwritten.
20250422T074336 DEBUG    safe_update_attrs Attribute &#39;acknowledgement&#39; already exists in dataset attrs and will not be overwritten.
20250422T074336 INFO     read_move Successfully loaded 1 MOVE dataset(s)
20250422T074336 INFO     load_dataset Successfully loaded 1 dataset(s) for array: move
20250422T074336 INFO     _summarise_datasets
Summary for array &#39;move&#39;:
Total datasets loaded: 1

Dataset 1:
  Source file: OS_MOVE_TRANSPORTS.nc
  Time coverage: 2000-01-01 to 2018-06-30
  Dimensions:
    - TIME: 6756
  Variables:
    - TRANSPORT_TOTAL: shape (6756,)
    - transport_component_internal: shape (6756,)
    - transport_component_internal_offset: shape (6756,)
    - transport_component_boundary: shape (6756,)

20250422T074336 DEBUG    standardise_array Standardising OS_MOVE_TRANSPORTS.nc for MOVE
20250422T074336 DEBUG    merge_metadata_aliases Renaming key &#39;weblink&#39; → &#39;web_link&#39;
20250422T074336 DEBUG    merge_metadata_aliases Renaming key &#39;reference&#39; → &#39;references&#39;
20250422T074336 DEBUG    merge_metadata_aliases Conflict for &#39;references&#39; from &#39;reference&#39;; keeping first value
20250422T074336 DEBUG    merge_metadata_aliases Renaming key &#39;platform_type&#39; → &#39;platform&#39;
20250422T074336 DEBUG    _consolidate_contributors Starting _consolidate_contributors with attrs: {&#39;Conventions&#39;: &#39;CF-1.7, ACDD-1.3&#39;, &#39;title&#39;: &#39;Ocean Volume Transport Data from the MOVE Mooring Observations&#39;, &#39;summary&#39;: &#39;MOVE transport estimates dataset from UCSD mooring project&#39;, &#39;date_created&#39;: &#39;2019-01-30T18:13:16Z&#39;, &#39;creator_name&#39;: &#39;Matthias Lankhorst&#39;, &#39;creator_url&#39;: &#39;http://orcid.org/0000-0002-4166-4044&#39;, &#39;contributor_name&#39;: &#39;Uwe Send, Matthias Lankhorst&#39;, &#39;contributor_role&#39;: &#39;Principal Investigator, Creator&#39;, &#39;institution&#39;: &#39;Scripps Institution of Oceanography&#39;, &#39;project&#39;: &#39;Meridional Overturning Variability Experiment (MOVE)&#39;, &#39;references&#39;: &#39;http://dx.doi.org/10.1016/j.dsr.2005.12.007 http://dx.doi.org/10.1029/2011GL049801&#39;, &#39;comment&#39;: &#39;Dataset accessed and processed via http://github.com/AMOCcommunity/amocarray&#39;, &#39;license&#39;: &#34;Data freely available. User assumes all risk for use of data. Please give due credit to the authors, project, and funding sources when using these data, e.g. by including the &#39;citation&#39; text provided here.&#34;, &#39;citation&#39;: &#39;Collection of MOVE data was funded by NOAA Research, and carried out by principal investigators Uwe Send and Matthias Lankhorst. MOVE data are made freely available through the international OceanSITES program.&#39;, &#39;acknowledgement&#39;: &#39;The MOVE project is made possible with funding from the NOAA Climate Program Office under award NA15OAR4320071. Initial funding came from the German Bundesministerium fuer Bildung und Forschung.&#39;, &#39;source&#39;: &#39;Derived using the following files: OceanSITES file OS_MOVE_MULTISITE_GRIDDED_TS.nc, created 2019-01-30T18:11:12Z OceanSITES file OS_MOVE_MULTISITE_GRIDDED_V.nc, created 2019-01-17T00:40:57Z&#39;, &#39;source_file&#39;: &#39;OS_MOVE_TRANSPORTS.nc&#39;, &#39;source_path&#39;: &#39;/home/runner/work/amocarray/amocarray/data/OS_MOVE_TRANSPORTS.nc&#39;, &#39;description&#39;: &#39;MOVE transport estimates dataset from UCSD mooring project&#39;, &#39;web_link&#39;: &#39;https://mooring.ucsd.edu/move/&#39;, &#39;data_product&#39;: &#39;MOVE transport time series&#39;, &#39;program&#39;: &#39;MOVE&#39;, &#39;contributor_url&#39;: &#39;_ , http://orcid.org/0000-0002-4166-4044&#39;, &#39;doi&#39;: &#39;http://dx.doi.org/10.1016/j.dsr.2005.12.007 http://dx.doi.org/10.1029/2011GL049801&#39;, &#39;featureType&#39;: &#39;timeSeries&#39;, &#39;time_coverage_start&#39;: &#39;2000-01-01&#39;, &#39;time_coverage_end&#39;: &#39;2018-06-30&#39;, &#39;platform&#39;: &#39;Mooring array&#39;}
20250422T074336 DEBUG    _consolidate_contributors Email buckets: {}
20250422T074336 DEBUG    _consolidate_contributors URL buckets: {&#39;creator_url&#39;: [&#39;http://orcid.org/0000-0002-4166-4044&#39;], &#39;contributor_url&#39;: [&#39;_&#39;, &#39;http://orcid.org/0000-0002-4166-4044&#39;]}
20250422T074336 DEBUG    _consolidate_contributors Names: [&#39;Matthias Lankhorst&#39;, &#39;Uwe Send&#39;, &#39;Matthias Lankhorst&#39;]; Roles: [&#39;creator&#39;, &#39;&#39;, &#39;&#39;]; Sources: [&#39;creator_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;]
20250422T074336 DEBUG    _consolidate_contributors Set contributor_name=&#39;Matthias Lankhorst, Uwe Send, Matthias Lankhorst&#39;, contributor_role=&#39;Principal Investigator, Creator&#39;
20250422T074336 DEBUG    _consolidate_contributors Aligned contributor_email=&#39;, , &#39;
20250422T074336 DEBUG    _consolidate_contributors Aligned contributor_id=&#39;http://orcid.org/0000-0002-4166-4044, _, http://orcid.org/0000-0002-4166-4044&#39;
20250422T074336 DEBUG    _consolidate_contributors Matched institution &#39;Scripps Institution of Oceanography&#39; → &#39;scripps institution of oceanography&#39; → &#39;&#39;
20250422T074336 DEBUG    _consolidate_contributors Finished _consolidate_contributors: {&#39;Conventions&#39;: &#39;CF-1.7, ACDD-1.3&#39;, &#39;title&#39;: &#39;Ocean Volume Transport Data from the MOVE Mooring Observations&#39;, &#39;summary&#39;: &#39;MOVE transport estimates dataset from UCSD mooring project&#39;, &#39;date_created&#39;: &#39;2019-01-30T18:13:16Z&#39;, &#39;contributor_role&#39;: &#39;Principal Investigator, Creator&#39;, &#39;project&#39;: &#39;Meridional Overturning Variability Experiment (MOVE)&#39;, &#39;references&#39;: &#39;http://dx.doi.org/10.1016/j.dsr.2005.12.007 http://dx.doi.org/10.1029/2011GL049801&#39;, &#39;comment&#39;: &#39;Dataset accessed and processed via http://github.com/AMOCcommunity/amocarray&#39;, &#39;license&#39;: &#34;Data freely available. User assumes all risk for use of data. Please give due credit to the authors, project, and funding sources when using these data, e.g. by including the &#39;citation&#39; text provided here.&#34;, &#39;citation&#39;: &#39;Collection of MOVE data was funded by NOAA Research, and carried out by principal investigators Uwe Send and Matthias Lankhorst. MOVE data are made freely available through the international OceanSITES program.&#39;, &#39;acknowledgement&#39;: &#39;The MOVE project is made possible with funding from the NOAA Climate Program Office under award NA15OAR4320071. Initial funding came from the German Bundesministerium fuer Bildung und Forschung.&#39;, &#39;source&#39;: &#39;Derived using the following files: OceanSITES file OS_MOVE_MULTISITE_GRIDDED_TS.nc, created 2019-01-30T18:11:12Z OceanSITES file OS_MOVE_MULTISITE_GRIDDED_V.nc, created 2019-01-17T00:40:57Z&#39;, &#39;source_file&#39;: &#39;OS_MOVE_TRANSPORTS.nc&#39;, &#39;source_path&#39;: &#39;/home/runner/work/amocarray/amocarray/data/OS_MOVE_TRANSPORTS.nc&#39;, &#39;description&#39;: &#39;MOVE transport estimates dataset from UCSD mooring project&#39;, &#39;web_link&#39;: &#39;https://mooring.ucsd.edu/move/&#39;, &#39;data_product&#39;: &#39;MOVE transport time series&#39;, &#39;program&#39;: &#39;MOVE&#39;, &#39;doi&#39;: &#39;http://dx.doi.org/10.1016/j.dsr.2005.12.007 http://dx.doi.org/10.1029/2011GL049801&#39;, &#39;featureType&#39;: &#39;timeSeries&#39;, &#39;time_coverage_start&#39;: &#39;2000-01-01&#39;, &#39;time_coverage_end&#39;: &#39;2018-06-30&#39;, &#39;platform&#39;: &#39;Mooring array&#39;, &#39;contributor_name&#39;: &#39;Matthias Lankhorst, Uwe Send, Matthias Lankhorst&#39;, &#39;contributor_email&#39;: &#39;, , &#39;, &#39;contributor_id&#39;: &#39;http://orcid.org/0000-0002-4166-4044, _, http://orcid.org/0000-0002-4166-4044&#39;, &#39;contributing_institutions&#39;: &#39;Scripps Institution of Oceanography&#39;, &#39;contributing_institutions_vocabulary&#39;: &#39;&#39;, &#39;contributing_institutions_role&#39;: &#39;&#39;, &#39;contributing_institutions_role_vocabulary&#39;: &#39;&#39;}
20250422T074336 DEBUG    normalize_and_add_vocabulary Normalized &#39;platform&#39;: &#39;Mooring array&#39; → &#39;mooring&#39;
20250422T074336 DEBUG    normalize_and_add_vocabulary Added vocabulary for &#39;platform&#39;: https://vocab.nerc.ac.uk/collection/L06/
20250422T074336 DEBUG    normalize_and_add_vocabulary Added vocabulary for &#39;featureType&#39;: https://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#_features_and_feature_types
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Summary for array &#39;move&#39;:
Total datasets loaded: 1

Dataset 1:
  Source file: OS_MOVE_TRANSPORTS.nc
  Time coverage: 2000-01-01 to 2018-06-30
  Dimensions:
    - TIME: 6756
  Variables:
    - TRANSPORT_TOTAL: shape (6756,)
    - transport_component_internal: shape (6756,)
    - transport_component_internal_offset: shape (6756,)
    - transport_component_boundary: shape (6756,)

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Resample the dataset to monthly averages</span>
<span class="n">ds_monthly</span> <span class="o">=</span> <span class="n">ds_move</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="n">TIME</span><span class="o">=</span><span class="s2">&quot;ME&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># Create a figure and axis</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="c1"># Plot the total transport from the MOVE dataset in thin grey</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">ds_move</span><span class="p">[</span><span class="s2">&quot;TIME&quot;</span><span class="p">],</span>
    <span class="n">ds_move</span><span class="p">[</span><span class="s2">&quot;TRANSPORT_TOTAL&quot;</span><span class="p">],</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
    <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Total Transport&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Plot the monthly averaged dataset in thick red</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">ds_monthly</span><span class="p">[</span><span class="s2">&quot;TIME&quot;</span><span class="p">],</span>
    <span class="n">ds_monthly</span><span class="p">[</span><span class="s2">&quot;TRANSPORT_TOTAL&quot;</span><span class="p">],</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;darkblue&quot;</span><span class="p">,</span>
    <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Monthly Average&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="c1"># Add a horizontal line at y=0</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># Customize the axes</span>
<span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s2">&quot;top&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s2">&quot;right&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Add labels, title, and legend</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;MOVE 16°N - NADW transport&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Time&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Transport [Sv]&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="c1"># Customize the grid</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/demo-output_8_0.png" src="_images/demo-output_8_0.png" />
</div>
</div>
</section>
<section id="Load-OSNAP">
<h2>Load OSNAP<a class="headerlink" href="#Load-OSNAP" title="Link to this heading"></a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">datasetsOSNAP</span> <span class="o">=</span> <span class="n">readers</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;osnap&quot;</span><span class="p">)</span>
<span class="n">ds_osnap</span> <span class="o">=</span> <span class="n">datasetsOSNAP</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">standardOSNAP</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">standardise</span><span class="o">.</span><span class="n">standardise_osnap</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;source_file&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">datasetsOSNAP</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
20250422T074336 INFO     setup_logger Logger initialized for array: osnap, writing to /home/runner/work/amocarray/amocarray/logs/OSNAP_20250422T07_read.log
20250422T074336 INFO     load_dataset Loading dataset for array: osnap
20250422T074336 INFO     read_osnap Starting to read OSNAP dataset
20250422T074336 INFO     resolve_file_path Downloading file from https://repository.gatech.edu/bitstreams/e039e311-dd2e-4511-a525-c2fcfb3be85a/download to /home/runner/work/amocarray/amocarray/data
20250422T074337 INFO     read_osnap Opening OSNAP dataset: /home/runner/work/amocarray/amocarray/data/download
20250422T074337 INFO     read_osnap Attaching metadata to dataset from file: OSNAP_MOC_MHT_MFT_TimeSeries_201408_202006_2023.nc
20250422T074337 DEBUG    safe_update_attrs Attribute &#39;project&#39; already exists in dataset attrs and will not be overwritten.
20250422T074337 INFO     read_osnap Successfully loaded 1 OSNAP dataset(s)
20250422T074337 INFO     load_dataset Successfully loaded 1 dataset(s) for array: osnap
20250422T074337 INFO     _summarise_datasets
Summary for array &#39;osnap&#39;:
Total datasets loaded: 1

Dataset 1:
  Source file: OSNAP_MOC_MHT_MFT_TimeSeries_201408_202006_2023.nc
  Time coverage: 2014-08-01 to 2020-06-01
  Dimensions:
    - TIME: 71
  Variables:
    - MOC_ALL: shape (71,)
    - MOC_ALL_ERR: shape (71,)
    - MOC_EAST: shape (71,)
    - MOC_EAST_ERR: shape (71,)
    - MOC_WEST: shape (71,)
    - MOC_WEST_ERR: shape (71,)
    - MHT_ALL: shape (71,)
    - MHT_ALL_ERR: shape (71,)
    - MHT_EAST: shape (71,)
    - MHT_EAST_ERR: shape (71,)
    - MHT_WEST: shape (71,)
    - MHT_WEST_ERR: shape (71,)
    - MFT_ALL: shape (71,)
    - MFT_ALL_ERR: shape (71,)
    - MFT_EAST: shape (71,)
    - MFT_EAST_ERR: shape (71,)
    - MFT_WEST: shape (71,)
    - MFT_WEST_ERR: shape (71,)

20250422T074337 DEBUG    standardise_array Standardising OSNAP_MOC_MHT_MFT_TimeSeries_201408_202006_2023.nc for OSNAP
20250422T074337 DEBUG    merge_metadata_aliases Renaming key &#39;weblink&#39; → &#39;web_link&#39;
20250422T074337 DEBUG    merge_metadata_aliases Renaming key &#39;platform_type&#39; → &#39;platform&#39;
20250422T074337 DEBUG    _consolidate_contributors Starting _consolidate_contributors with attrs: {&#39;title&#39;: &#39;OSNAP MOC MHT MFT time series (2014-2020)&#39;, &#39;project&#39;: &#39;Overturning in the Subpolar North Atlantic Program (OSNAP)&#39;, &#39;contributor_name&#39;: &#39;Yao Fu, M. Susan Lozier, Tiago Carrilho Biló, Amy S. Bower, Stuart A. Cunningham, Frédéric Cyr, M. Femke de Jong, Brad deYoung, Lewis Drysdale, Neil Fraser, Nora Fried, Heather H. Furey, Guoqi Han, Patricia Handmann, N. Penny Holliday, James Holte, Mark E. Inall, William E. Johns, Sam Jones, Johannes Karstensen, Feili Li, Astrid Pacini, Robert S. Pickart, Darren Rayner, Fiammetta Straneo, Igor Yashayaev&#39;, &#39;contributor_role&#39;: &#39;data design, collection and/or processing&#39;, &#39;contributor_institution&#39;: &#39;Georgia Institute of Technology, USA; National Oceanography Centre at Southampton, UK; Woods Hole Oceanographic Institution, USA; Scottish Association for Marine Science, UK; Royal Netherlands Institute for Sea Research and Utrecht University, Netherlands; Memorial University, Canada; Fisheries and Oceans Canada Northwest Atlantic Fisheries Centre and Institute of Ocean Sciences, Canada; Scripps Institution of Oceanography, UCSD, USA; Edinburgh University, UK; University of Miami, USA; GEOMAR Helmholtz Centre for Ocean Research Kiel, Germany; Bedford Institute of Oceanography, Canada; Xiamen University, China&#39;, &#39;publisher_name&#39;: &#39;M. Susan Lozier; Yao Fu&#39;, &#39;publisher_email&#39;: &#39;susan.lozier@gatech.edu; yaofu@gatech.edu;&#39;, &#39;data_assembly_center&#39;: &#39;Georgia Institute of Technology&#39;, &#39;references&#39;: &#39;Lozier et al. (2019), Science, doi:10.1126/science.aau6592; Li et al. (2017), JTECH, doi:10.1175/JTECH-D-16-0247.1; Li et al. (2021), Nature Communications, doi:10.1038/s41467-021-23350-2; Fu et al. (2023), Communications Earth &amp; Environment, doi:10.1038/s43247-023-00848-9&#39;, &#39;citation&#39;: &#39;OSNAP data were collected and made freely available by the OSNAP (Overturning in the Subpolar North Atlantic Program) project and all the national programs that contribute to it (www.o-snap.org)&#39;, &#39;date_created&#39;: &#39;2023-04-24 11:33:07&#39;, &#39;time_coverage_start&#39;: &#39;2014-08-01&#39;, &#39;time_coverage_end&#39;: &#39;2020-06-30&#39;, &#39;source_file&#39;: &#39;OSNAP_MOC_MHT_MFT_TimeSeries_201408_202006_2023.nc&#39;, &#39;source_path&#39;: &#39;/home/runner/work/amocarray/amocarray/data/download&#39;, &#39;web_link&#39;: &#39;https://www.o-snap.org&#39;, &#39;comment&#39;: &#39;Dataset accessed and processed via http://github.com/AMOCcommunity/amocarray&#39;, &#39;acknowledgement&#39;: &#39;OSNAP data were collected and made freely available by the OSNAP (Overturning in the Subpolar North Atlantic Program) project and all the national programs that contribute to it (www.o-snap.org).&#39;, &#39;doi&#39;: &#39;https://doi.org/10.35090/gatech/70342&#39;, &#39;data_product&#39;: &#39;Time series of MOC, MHT, and MFT&#39;, &#39;program&#39;: &#39;OSNAP&#39;, &#39;description&#39;: &#39;OSNAP transport and hydrographic estimates dataset, 2014-2020&#39;, &#39;license&#39;: &#39;Creative Commons Attribution 4.0 International (CC BY 4.0)&#39;, &#39;Conventions&#39;: &#39;CF-1.8, ACDD-1.3&#39;, &#39;featureType&#39;: &#39;timeSeries&#39;, &#39;platform&#39;: &#39;Mooring array&#39;, &#39;institution&#39;: &#39;Multiple contributing institutions (US, UK, Germany, Netherlands, Canada, France, China)&#39;, &#39;creator_name&#39;: &#39;OSNAP investigators&#39;, &#39;data_policy&#39;: &#39;Any person making use of OSNAP observational data and/or numerical results must communicate with the responsible investigators at the start of the analysis and anticipate that the data collectors will be co-authors of published results. In cases where investigators choose not to be co-authors on publications that rely on their data, the parties responsible for collecting the data and the sponsoring funding agencies should be acknowledged, including reference to any relevant publications by the originating authors describing the data sets and a reference to the data set itself using its DOI. OSNAP data are intended for scholarly use by the academic and scientific community, with the express understanding that any such use will properly acknowledge the originating investigator.&#39;, &#39;summary&#39;: &#39;OSNAP transport and hydrographic estimates dataset, 2014-2020&#39;}
20250422T074337 DEBUG    _consolidate_contributors Email buckets: {&#39;publisher_email&#39;: [&#39;susan.lozier@gatech.edu&#39;, &#39;yaofu@gatech.edu&#39;]}
20250422T074337 DEBUG    _consolidate_contributors URL buckets: {}
20250422T074337 DEBUG    _consolidate_contributors Names: [&#39;Yao Fu&#39;, &#39;M. Susan Lozier&#39;, &#39;Tiago Carrilho Biló&#39;, &#39;Amy S. Bower&#39;, &#39;Stuart A. Cunningham&#39;, &#39;Frédéric Cyr&#39;, &#39;M. Femke de Jong&#39;, &#39;Brad deYoung&#39;, &#39;Lewis Drysdale&#39;, &#39;Neil Fraser&#39;, &#39;Nora Fried&#39;, &#39;Heather H. Furey&#39;, &#39;Guoqi Han&#39;, &#39;Patricia Handmann&#39;, &#39;N. Penny Holliday&#39;, &#39;James Holte&#39;, &#39;Mark E. Inall&#39;, &#39;William E. Johns&#39;, &#39;Sam Jones&#39;, &#39;Johannes Karstensen&#39;, &#39;Feili Li&#39;, &#39;Astrid Pacini&#39;, &#39;Robert S. Pickart&#39;, &#39;Darren Rayner&#39;, &#39;Fiammetta Straneo&#39;, &#39;Igor Yashayaev&#39;, &#39;M. Susan Lozier&#39;, &#39;Yao Fu&#39;, &#39;OSNAP investigators&#39;]; Roles: [&#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;publisher&#39;, &#39;publisher&#39;, &#39;creator&#39;]; Sources: [&#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;contributor_name&#39;, &#39;publisher_name&#39;, &#39;publisher_name&#39;, &#39;creator_name&#39;]
20250422T074337 DEBUG    _consolidate_contributors Set contributor_name=&#39;Yao Fu, M. Susan Lozier, Tiago Carrilho Biló, Amy S. Bower, Stuart A. Cunningham, Frédéric Cyr, M. Femke de Jong, Brad deYoung, Lewis Drysdale, Neil Fraser, Nora Fried, Heather H. Furey, Guoqi Han, Patricia Handmann, N. Penny Holliday, James Holte, Mark E. Inall, William E. Johns, Sam Jones, Johannes Karstensen, Feili Li, Astrid Pacini, Robert S. Pickart, Darren Rayner, Fiammetta Straneo, Igor Yashayaev, M. Susan Lozier, Yao Fu, OSNAP investigators&#39;, contributor_role=&#39;data design, collection and/or processing&#39;
20250422T074337 DEBUG    _consolidate_contributors Aligned contributor_email=&#39;, , , , , , , , , , , , , , , , , , , , , , , , , , susan.lozier@gatech.edu, yaofu@gatech.edu, &#39;
20250422T074337 DEBUG    _consolidate_contributors Aligned contributor_id=&#39;, , , , , , , , , , , , , , , , , , , , , , , , , , , , &#39;
20250422T074337 DEBUG    _consolidate_contributors Matched institution &#39;Georgia Institute of Technology, USA&#39; → &#39;georgia institute of technology, usa&#39; → &#39;&#39;
20250422T074337 DEBUG    _consolidate_contributors Matched institution &#39;National Oceanography Centre at Southampton, UK&#39; → &#39;national oceanography centre at southampton, uk&#39; → &#39;&#39;
20250422T074337 DEBUG    _consolidate_contributors Matched institution &#39;Woods Hole Oceanographic Institution, USA&#39; → &#39;woods hole oceanographic institution, usa&#39; → &#39;&#39;
20250422T074337 DEBUG    _consolidate_contributors Matched institution &#39;Scottish Association for Marine Science, UK&#39; → &#39;scottish association for marine science, uk&#39; → &#39;&#39;
20250422T074337 DEBUG    _consolidate_contributors Matched institution &#39;Royal Netherlands Institute for Sea Research and Utrecht University, Netherlands&#39; → &#39;royal netherlands institute for sea research and utrecht university, netherlands&#39; → &#39;&#39;
20250422T074337 DEBUG    _consolidate_contributors Matched institution &#39;Memorial University, Canada&#39; → &#39;memorial university, canada&#39; → &#39;&#39;
20250422T074337 DEBUG    _consolidate_contributors Matched institution &#39;Fisheries and Oceans Canada Northwest Atlantic Fisheries Centre and Institute of Ocean Sciences, Canada&#39; → &#39;fisheries and oceans canada northwest atlantic fisheries centre and institute of ocean sciences, canada&#39; → &#39;&#39;
20250422T074337 DEBUG    _consolidate_contributors Matched institution &#39;Scripps Institution of Oceanography, UCSD, USA&#39; → &#39;scripps institution of oceanography, ucsd, usa&#39; → &#39;&#39;
20250422T074337 DEBUG    _consolidate_contributors Matched institution &#39;Edinburgh University, UK&#39; → &#39;edinburgh university, uk&#39; → &#39;&#39;
20250422T074337 DEBUG    _consolidate_contributors Matched institution &#39;University of Miami, USA&#39; → &#39;university of miami, usa&#39; → &#39;&#39;
20250422T074337 DEBUG    _consolidate_contributors Matched institution &#39;GEOMAR Helmholtz Centre for Ocean Research Kiel, Germany&#39; → &#39;geomar helmholtz centre for ocean research kiel, germany&#39; → &#39;&#39;
20250422T074337 DEBUG    _consolidate_contributors Matched institution &#39;Bedford Institute of Oceanography, Canada&#39; → &#39;bedford institute of oceanography, canada&#39; → &#39;&#39;
20250422T074337 DEBUG    _consolidate_contributors Matched institution &#39;Xiamen University, China&#39; → &#39;xiamen university, china&#39; → &#39;&#39;
20250422T074337 DEBUG    _consolidate_contributors Matched institution &#39;Multiple contributing institutions (US, UK, Germany, Netherlands, Canada, France, China)&#39; → &#39;multiple contributing institutions (us, uk, germany, netherlands, canada, france, china)&#39; → &#39;&#39;
20250422T074337 DEBUG    _consolidate_contributors Finished _consolidate_contributors: {&#39;title&#39;: &#39;OSNAP MOC MHT MFT time series (2014-2020)&#39;, &#39;project&#39;: &#39;Overturning in the Subpolar North Atlantic Program (OSNAP)&#39;, &#39;contributor_role&#39;: &#39;data design, collection and/or processing&#39;, &#39;data_assembly_center&#39;: &#39;Georgia Institute of Technology&#39;, &#39;references&#39;: &#39;Lozier et al. (2019), Science, doi:10.1126/science.aau6592; Li et al. (2017), JTECH, doi:10.1175/JTECH-D-16-0247.1; Li et al. (2021), Nature Communications, doi:10.1038/s41467-021-23350-2; Fu et al. (2023), Communications Earth &amp; Environment, doi:10.1038/s43247-023-00848-9&#39;, &#39;citation&#39;: &#39;OSNAP data were collected and made freely available by the OSNAP (Overturning in the Subpolar North Atlantic Program) project and all the national programs that contribute to it (www.o-snap.org)&#39;, &#39;date_created&#39;: &#39;2023-04-24 11:33:07&#39;, &#39;time_coverage_start&#39;: &#39;2014-08-01&#39;, &#39;time_coverage_end&#39;: &#39;2020-06-30&#39;, &#39;source_file&#39;: &#39;OSNAP_MOC_MHT_MFT_TimeSeries_201408_202006_2023.nc&#39;, &#39;source_path&#39;: &#39;/home/runner/work/amocarray/amocarray/data/download&#39;, &#39;web_link&#39;: &#39;https://www.o-snap.org&#39;, &#39;comment&#39;: &#39;Dataset accessed and processed via http://github.com/AMOCcommunity/amocarray&#39;, &#39;acknowledgement&#39;: &#39;OSNAP data were collected and made freely available by the OSNAP (Overturning in the Subpolar North Atlantic Program) project and all the national programs that contribute to it (www.o-snap.org).&#39;, &#39;doi&#39;: &#39;https://doi.org/10.35090/gatech/70342&#39;, &#39;data_product&#39;: &#39;Time series of MOC, MHT, and MFT&#39;, &#39;program&#39;: &#39;OSNAP&#39;, &#39;description&#39;: &#39;OSNAP transport and hydrographic estimates dataset, 2014-2020&#39;, &#39;license&#39;: &#39;Creative Commons Attribution 4.0 International (CC BY 4.0)&#39;, &#39;Conventions&#39;: &#39;CF-1.8, ACDD-1.3&#39;, &#39;featureType&#39;: &#39;timeSeries&#39;, &#39;platform&#39;: &#39;Mooring array&#39;, &#39;data_policy&#39;: &#39;Any person making use of OSNAP observational data and/or numerical results must communicate with the responsible investigators at the start of the analysis and anticipate that the data collectors will be co-authors of published results. In cases where investigators choose not to be co-authors on publications that rely on their data, the parties responsible for collecting the data and the sponsoring funding agencies should be acknowledged, including reference to any relevant publications by the originating authors describing the data sets and a reference to the data set itself using its DOI. OSNAP data are intended for scholarly use by the academic and scientific community, with the express understanding that any such use will properly acknowledge the originating investigator.&#39;, &#39;summary&#39;: &#39;OSNAP transport and hydrographic estimates dataset, 2014-2020&#39;, &#39;contributor_name&#39;: &#39;Yao Fu, M. Susan Lozier, Tiago Carrilho Biló, Amy S. Bower, Stuart A. Cunningham, Frédéric Cyr, M. Femke de Jong, Brad deYoung, Lewis Drysdale, Neil Fraser, Nora Fried, Heather H. Furey, Guoqi Han, Patricia Handmann, N. Penny Holliday, James Holte, Mark E. Inall, William E. Johns, Sam Jones, Johannes Karstensen, Feili Li, Astrid Pacini, Robert S. Pickart, Darren Rayner, Fiammetta Straneo, Igor Yashayaev, M. Susan Lozier, Yao Fu, OSNAP investigators&#39;, &#39;contributor_email&#39;: &#39;, , , , , , , , , , , , , , , , , , , , , , , , , , susan.lozier@gatech.edu, yaofu@gatech.edu, &#39;, &#39;contributor_id&#39;: &#39;, , , , , , , , , , , , , , , , , , , , , , , , , , , , &#39;, &#39;contributing_institutions&#39;: &#39;Georgia Institute of Technology, USA, National Oceanography Centre at Southampton, UK, Woods Hole Oceanographic Institution, USA, Scottish Association for Marine Science, UK, Royal Netherlands Institute for Sea Research and Utrecht University, Netherlands, Memorial University, Canada, Fisheries and Oceans Canada Northwest Atlantic Fisheries Centre and Institute of Ocean Sciences, Canada, Scripps Institution of Oceanography, UCSD, USA, Edinburgh University, UK, University of Miami, USA, GEOMAR Helmholtz Centre for Ocean Research Kiel, Germany, Bedford Institute of Oceanography, Canada, Xiamen University, China, Multiple contributing institutions (US, UK, Germany, Netherlands, Canada, France, China)&#39;, &#39;contributing_institutions_vocabulary&#39;: &#39;, , , , , , , , , , , , , &#39;, &#39;contributing_institutions_role&#39;: &#39;&#39;, &#39;contributing_institutions_role_vocabulary&#39;: &#39;&#39;}
20250422T074337 DEBUG    normalize_and_add_vocabulary Normalized &#39;platform&#39;: &#39;Mooring array&#39; → &#39;mooring&#39;
20250422T074337 DEBUG    normalize_and_add_vocabulary Added vocabulary for &#39;platform&#39;: https://vocab.nerc.ac.uk/collection/L06/
20250422T074337 DEBUG    normalize_and_add_vocabulary Added vocabulary for &#39;featureType&#39;: https://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#_features_and_feature_types
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Summary for array &#39;osnap&#39;:
Total datasets loaded: 1

Dataset 1:
  Source file: OSNAP_MOC_MHT_MFT_TimeSeries_201408_202006_2023.nc
  Time coverage: 2014-08-01 to 2020-06-01
  Dimensions:
    - TIME: 71
  Variables:
    - MOC_ALL: shape (71,)
    - MOC_ALL_ERR: shape (71,)
    - MOC_EAST: shape (71,)
    - MOC_EAST_ERR: shape (71,)
    - MOC_WEST: shape (71,)
    - MOC_WEST_ERR: shape (71,)
    - MHT_ALL: shape (71,)
    - MHT_ALL_ERR: shape (71,)
    - MHT_EAST: shape (71,)
    - MHT_EAST_ERR: shape (71,)
    - MHT_WEST: shape (71,)
    - MHT_WEST_ERR: shape (71,)
    - MFT_ALL: shape (71,)
    - MFT_ALL_ERR: shape (71,)
    - MFT_EAST: shape (71,)
    - MFT_EAST_ERR: shape (71,)
    - MFT_WEST: shape (71,)
    - MFT_WEST_ERR: shape (71,)

</pre></div></div>
</div>
</section>
<section id="Load-SAMBA-34.5°S">
<h2>Load SAMBA 34.5°S<a class="headerlink" href="#Load-SAMBA-34.5°S" title="Link to this heading"></a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">datasetsSAMBA</span> <span class="o">=</span> <span class="n">readers</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;SAMBA&quot;</span><span class="p">)</span>
<span class="n">standardSAMBA</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">standardise</span><span class="o">.</span><span class="n">standardise_samba</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;source_file&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">datasetsSAMBA</span>
<span class="p">]</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
20250422T074337 INFO     setup_logger Logger initialized for array: SAMBA, writing to /home/runner/work/amocarray/amocarray/logs/SAMBA_20250422T07_read.log
20250422T074337 INFO     load_dataset Loading dataset for array: SAMBA
20250422T074337 INFO     read_samba Starting to read SAMBA dataset
20250422T074337 INFO     resolve_file_path Using cached file: /home/runner/work/amocarray/amocarray/data/Upper_Abyssal_Transport_Anomalies.txt
20250422T074337 INFO     read_samba Attaching metadata to SAMBA dataset from file: Upper_Abyssal_Transport_Anomalies.txt
20250422T074337 INFO     resolve_file_path Using cached file: /home/runner/work/amocarray/amocarray/data/MOC_TotalAnomaly_and_constituents.asc
20250422T074337 INFO     read_samba Attaching metadata to SAMBA dataset from file: MOC_TotalAnomaly_and_constituents.asc
20250422T074337 INFO     read_samba Successfully loaded 2 SAMBA dataset(s)
20250422T074337 INFO     load_dataset Successfully loaded 2 dataset(s) for array: SAMBA
20250422T074337 INFO     _summarise_datasets
Summary for array &#39;SAMBA&#39;:
Total datasets loaded: 2

Dataset 1:
  Source file: Upper_Abyssal_Transport_Anomalies.txt
  Time coverage: 2013-09-12 to 2017-07-16
  Dimensions:
    - TIME: 1404
  Variables:
    - Upper-cell volume transport anomaly (relative to record-length average of 17.3 Sv): shape (1404,)
    - Abyssal-cell volume transport anomaly (relative to record-length average of 7.8 Sv): shape (1404,)

Dataset 2:
  Source file: MOC_TotalAnomaly_and_constituents.asc
  Time coverage: 2009-03-19 to 2017-04-29
  Dimensions:
    - TIME: 2964
  Variables:
    - Total MOC anomaly (relative to record-length average of 14.7 Sv): shape (2964,)
    - Relative (density gradient) contribution to the MOC anomaly: shape (2964,)
    - Reference (bottom pressure gradient) contribution to the MOC anomaly: shape (2964,)
    - Ekman (wind) contribution to the MOC anomaly: shape (2964,)
    - Western density contribution to the MOC anomaly: shape (2964,)
    - Eastern density contribution to the MOC anomaly: shape (2964,)
    - Western bottom pressure contribution to the MOC anomaly: shape (2964,)
    - Eastern bottom pressure contribution to the MOC anomaly: shape (2964,)

20250422T074337 DEBUG    standardise_array Standardising Upper_Abyssal_Transport_Anomalies.txt for SAMBA
20250422T074337 DEBUG    merge_metadata_aliases Renaming key &#39;weblink&#39; → &#39;web_link&#39;
20250422T074337 DEBUG    merge_metadata_aliases Renaming key &#39;platform_type&#39; → &#39;platform&#39;
20250422T074337 DEBUG    _consolidate_contributors Starting _consolidate_contributors with attrs: {&#39;source_file&#39;: &#39;Upper_Abyssal_Transport_Anomalies.txt&#39;, &#39;source_path&#39;: &#39;/home/runner/work/amocarray/amocarray/data/Upper_Abyssal_Transport_Anomalies.txt&#39;, &#39;description&#39;: &#39;SAMBA 34S transport estimates dataset&#39;, &#39;project&#39;: &#39;South Atlantic MOC Basin-wide Array (SAMBA)&#39;, &#39;web_link&#39;: &#39;https://www.aoml.noaa.gov/phod/samoc&#39;, &#39;comment&#39;: &#39;Dataset accessed and processed via http://github.com/AMOCcommunity/amocarray&#39;, &#39;acknowledgement&#39;: &#39;M. Kersalé et al., Highly variable upper and abyssal overturning cells in the South Atlantic. Sci. Adv. 6, eaba7573 (2020). DOI: 10.1126/sciadv.aba7573&#39;, &#39;data_product&#39;: &#39;Daily volume transport anomaly estimates for the upper and abyssal cells of the MOC&#39;, &#39;program&#39;: &#39;SAMBA&#39;, &#39;license&#39;: &#39;CC-BY 4.0&#39;, &#39;featureType&#39;: &#39;timeSeries&#39;, &#39;Conventions&#39;: &#39;CF-1.8, ACDD-1.3&#39;, &#39;time_coverage_start&#39;: &#39;2001-06-01&#39;, &#39;time_coverage_end&#39;: &#39;2023-12-31&#39;, &#39;platform&#39;: &#39;Mooring array&#39;, &#39;summary&#39;: &#39;SAMBA 34S transport estimates dataset&#39;}
20250422T074337 DEBUG    _consolidate_contributors Email buckets: {}
20250422T074337 DEBUG    _consolidate_contributors URL buckets: {}
20250422T074337 DEBUG    _consolidate_contributors Names: []; Roles: []; Sources: []
20250422T074337 DEBUG    _consolidate_contributors Finished _consolidate_contributors: {&#39;source_file&#39;: &#39;Upper_Abyssal_Transport_Anomalies.txt&#39;, &#39;source_path&#39;: &#39;/home/runner/work/amocarray/amocarray/data/Upper_Abyssal_Transport_Anomalies.txt&#39;, &#39;description&#39;: &#39;SAMBA 34S transport estimates dataset&#39;, &#39;project&#39;: &#39;South Atlantic MOC Basin-wide Array (SAMBA)&#39;, &#39;web_link&#39;: &#39;https://www.aoml.noaa.gov/phod/samoc&#39;, &#39;comment&#39;: &#39;Dataset accessed and processed via http://github.com/AMOCcommunity/amocarray&#39;, &#39;acknowledgement&#39;: &#39;M. Kersalé et al., Highly variable upper and abyssal overturning cells in the South Atlantic. Sci. Adv. 6, eaba7573 (2020). DOI: 10.1126/sciadv.aba7573&#39;, &#39;data_product&#39;: &#39;Daily volume transport anomaly estimates for the upper and abyssal cells of the MOC&#39;, &#39;program&#39;: &#39;SAMBA&#39;, &#39;license&#39;: &#39;CC-BY 4.0&#39;, &#39;featureType&#39;: &#39;timeSeries&#39;, &#39;Conventions&#39;: &#39;CF-1.8, ACDD-1.3&#39;, &#39;time_coverage_start&#39;: &#39;2001-06-01&#39;, &#39;time_coverage_end&#39;: &#39;2023-12-31&#39;, &#39;platform&#39;: &#39;Mooring array&#39;, &#39;summary&#39;: &#39;SAMBA 34S transport estimates dataset&#39;}
20250422T074337 DEBUG    normalize_and_add_vocabulary Normalized &#39;platform&#39;: &#39;Mooring array&#39; → &#39;mooring&#39;
20250422T074337 DEBUG    normalize_and_add_vocabulary Added vocabulary for &#39;platform&#39;: https://vocab.nerc.ac.uk/collection/L06/
20250422T074337 DEBUG    normalize_and_add_vocabulary Added vocabulary for &#39;featureType&#39;: https://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#_features_and_feature_types
20250422T074337 DEBUG    standardise_array Standardising MOC_TotalAnomaly_and_constituents.asc for SAMBA
20250422T074337 DEBUG    merge_metadata_aliases Renaming key &#39;weblink&#39; → &#39;web_link&#39;
20250422T074337 DEBUG    merge_metadata_aliases Renaming key &#39;platform_type&#39; → &#39;platform&#39;
20250422T074337 DEBUG    _consolidate_contributors Starting _consolidate_contributors with attrs: {&#39;source_file&#39;: &#39;MOC_TotalAnomaly_and_constituents.asc&#39;, &#39;source_path&#39;: &#39;/home/runner/work/amocarray/amocarray/data/MOC_TotalAnomaly_and_constituents.asc&#39;, &#39;description&#39;: &#39;SAMBA 34S transport estimates dataset&#39;, &#39;project&#39;: &#39;South Atlantic MOC Basin-wide Array (SAMBA)&#39;, &#39;web_link&#39;: &#39;https://www.aoml.noaa.gov/phod/samoc&#39;, &#39;comment&#39;: &#39;Dataset accessed and processed via http://github.com/AMOCcommunity/amocarray&#39;, &#39;acknowledgement&#39;: &#39;Meinen, C. S., Speich, S., Piola, A. R., Ansorge, I., Campos, E., Kersalé, M., et al. (2018). Meridional overturning circulation transport variability at 34.5°S during 2009–2017: Baroclinic and barotropic flows and the dueling influence of the boundaries. Geophysical Research Letters, 45, 4180–4188. https://doi.org/10.1029/2018GL077408&#39;, &#39;data_product&#39;: &#39;Daily travel time values, calibrated to a nominal pressure of 1000 dbar, and bottom pressures from the two PIES/CPIES moorings&#39;, &#39;program&#39;: &#39;SAMBA&#39;, &#39;license&#39;: &#39;CC-BY 4.0&#39;, &#39;featureType&#39;: &#39;timeSeries&#39;, &#39;Conventions&#39;: &#39;CF-1.8, ACDD-1.3&#39;, &#39;time_coverage_start&#39;: &#39;2001-06-01&#39;, &#39;time_coverage_end&#39;: &#39;2023-12-31&#39;, &#39;platform&#39;: &#39;Mooring array&#39;, &#39;summary&#39;: &#39;SAMBA 34S transport estimates dataset&#39;}
20250422T074337 DEBUG    _consolidate_contributors Email buckets: {}
20250422T074337 DEBUG    _consolidate_contributors URL buckets: {}
20250422T074337 DEBUG    _consolidate_contributors Names: []; Roles: []; Sources: []
20250422T074337 DEBUG    _consolidate_contributors Finished _consolidate_contributors: {&#39;source_file&#39;: &#39;MOC_TotalAnomaly_and_constituents.asc&#39;, &#39;source_path&#39;: &#39;/home/runner/work/amocarray/amocarray/data/MOC_TotalAnomaly_and_constituents.asc&#39;, &#39;description&#39;: &#39;SAMBA 34S transport estimates dataset&#39;, &#39;project&#39;: &#39;South Atlantic MOC Basin-wide Array (SAMBA)&#39;, &#39;web_link&#39;: &#39;https://www.aoml.noaa.gov/phod/samoc&#39;, &#39;comment&#39;: &#39;Dataset accessed and processed via http://github.com/AMOCcommunity/amocarray&#39;, &#39;acknowledgement&#39;: &#39;Meinen, C. S., Speich, S., Piola, A. R., Ansorge, I., Campos, E., Kersalé, M., et al. (2018). Meridional overturning circulation transport variability at 34.5°S during 2009–2017: Baroclinic and barotropic flows and the dueling influence of the boundaries. Geophysical Research Letters, 45, 4180–4188. https://doi.org/10.1029/2018GL077408&#39;, &#39;data_product&#39;: &#39;Daily travel time values, calibrated to a nominal pressure of 1000 dbar, and bottom pressures from the two PIES/CPIES moorings&#39;, &#39;program&#39;: &#39;SAMBA&#39;, &#39;license&#39;: &#39;CC-BY 4.0&#39;, &#39;featureType&#39;: &#39;timeSeries&#39;, &#39;Conventions&#39;: &#39;CF-1.8, ACDD-1.3&#39;, &#39;time_coverage_start&#39;: &#39;2001-06-01&#39;, &#39;time_coverage_end&#39;: &#39;2023-12-31&#39;, &#39;platform&#39;: &#39;Mooring array&#39;, &#39;summary&#39;: &#39;SAMBA 34S transport estimates dataset&#39;}
20250422T074337 DEBUG    normalize_and_add_vocabulary Normalized &#39;platform&#39;: &#39;Mooring array&#39; → &#39;mooring&#39;
20250422T074337 DEBUG    normalize_and_add_vocabulary Added vocabulary for &#39;platform&#39;: https://vocab.nerc.ac.uk/collection/L06/
20250422T074337 DEBUG    normalize_and_add_vocabulary Added vocabulary for &#39;featureType&#39;: https://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#_features_and_feature_types
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Summary for array &#39;SAMBA&#39;:
Total datasets loaded: 2

Dataset 1:
  Source file: Upper_Abyssal_Transport_Anomalies.txt
  Time coverage: 2013-09-12 to 2017-07-16
  Dimensions:
    - TIME: 1404
  Variables:
    - Upper-cell volume transport anomaly (relative to record-length average of 17.3 Sv): shape (1404,)
    - Abyssal-cell volume transport anomaly (relative to record-length average of 7.8 Sv): shape (1404,)

Dataset 2:
  Source file: MOC_TotalAnomaly_and_constituents.asc
  Time coverage: 2009-03-19 to 2017-04-29
  Dimensions:
    - TIME: 2964
  Variables:
    - Total MOC anomaly (relative to record-length average of 14.7 Sv): shape (2964,)
    - Relative (density gradient) contribution to the MOC anomaly: shape (2964,)
    - Reference (bottom pressure gradient) contribution to the MOC anomaly: shape (2964,)
    - Ekman (wind) contribution to the MOC anomaly: shape (2964,)
    - Western density contribution to the MOC anomaly: shape (2964,)
    - Eastern density contribution to the MOC anomaly: shape (2964,)
    - Western bottom pressure contribution to the MOC anomaly: shape (2964,)
    - Eastern bottom pressure contribution to the MOC anomaly: shape (2964,)

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Extract the upper and abyssal transport data</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">standardSAMBA</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">upper_transport</span> <span class="o">=</span> <span class="n">ds</span><span class="p">[</span><span class="s2">&quot;UPPER_TRANSPORT&quot;</span><span class="p">]</span>
<span class="n">ds2</span> <span class="o">=</span> <span class="n">standardSAMBA</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">moc_meinen</span> <span class="o">=</span> <span class="n">ds2</span><span class="p">[</span><span class="s2">&quot;MOC&quot;</span><span class="p">]</span>


<span class="c1"># Resample the dataset to monthly averages</span>
<span class="n">upper_transport_monthly</span> <span class="o">=</span> <span class="n">upper_transport</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="n">TIME</span><span class="o">=</span><span class="s2">&quot;ME&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">moc_meinen_monthly</span> <span class="o">=</span> <span class="n">moc_meinen</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="n">TIME</span><span class="o">=</span><span class="s2">&quot;ME&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="c1"># Create a figure and axis</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="c1"># Plot the original upper transport in thin blue</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">upper_transport_monthly</span><span class="p">[</span><span class="s2">&quot;TIME&quot;</span><span class="p">],</span>
    <span class="n">upper_transport_monthly</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
    <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Kersale et al. 2020&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">moc_meinen_monthly</span><span class="p">[</span><span class="s2">&quot;TIME&quot;</span><span class="p">],</span>
    <span class="n">moc_meinen_monthly</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span>
    <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">linewidth</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Meinen et al. 2018&quot;</span><span class="p">,</span>
<span class="p">)</span>


<span class="c1"># Add a horizontal line at y=0</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># Customize the axes</span>
<span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s2">&quot;top&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s2">&quot;right&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Add labels, title, and legend</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;SAMBA 34.5°S&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Time&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">upper_transport</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;standard_name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> [</span><span class="si">{</span><span class="n">upper_transport</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">]&quot;</span>
<span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="c1"># Set the x-axis limits from 2000 to 2022</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s2">&quot;2000-01-01&quot;</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s2">&quot;2022-12-31&quot;</span><span class="p">)])</span>

<span class="c1"># Set the y-axis limits from -15 to 15</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="o">-</span><span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">])</span>

<span class="c1"># Customize the grid</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/demo-output_13_0.png" src="_images/demo-output_13_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plotters</span><span class="o">.</span><span class="n">plot_monthly_anomalies</span><span class="p">(</span>
    <span class="n">osnap_data</span><span class="o">=</span><span class="n">ds_osnap</span><span class="p">[</span><span class="s2">&quot;MOC_ALL&quot;</span><span class="p">],</span>
    <span class="n">rapid_data</span><span class="o">=</span><span class="n">ds_rapid</span><span class="p">[</span><span class="s2">&quot;moc_mar_hc10&quot;</span><span class="p">],</span>
    <span class="n">move_data</span><span class="o">=-</span><span class="n">ds_move</span><span class="p">[</span><span class="s2">&quot;TRANSPORT_TOTAL&quot;</span><span class="p">],</span>
    <span class="n">samba_data</span><span class="o">=</span><span class="n">standardSAMBA</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;MOC&quot;</span><span class="p">],</span>
    <span class="n">osnap_label</span><span class="o">=</span><span class="s2">&quot;OSNAP&quot;</span><span class="p">,</span>
    <span class="n">rapid_label</span><span class="o">=</span><span class="s2">&quot;RAPID 26°N&quot;</span><span class="p">,</span>
    <span class="n">move_label</span><span class="o">=</span><span class="s2">&quot;MOVE 16°N&quot;</span><span class="p">,</span>
    <span class="n">samba_label</span><span class="o">=</span><span class="s2">&quot;SAMBA 34.5°S&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(&lt;Figure size 500x700 with 4 Axes&gt;,
 array([&lt;Axes: title={&#39;center&#39;: &#39;OSNAP&#39;}, ylabel=&#39;Transport [Sv]&#39;&gt;,
        &lt;Axes: title={&#39;center&#39;: &#39;RAPID 26°N&#39;}, ylabel=&#39;Transport [Sv]&#39;&gt;,
        &lt;Axes: title={&#39;center&#39;: &#39;MOVE 16°N&#39;}, ylabel=&#39;Transport [Sv]&#39;&gt;,
        &lt;Axes: title={&#39;center&#39;: &#39;SAMBA 34.5°S&#39;}, xlabel=&#39;Time&#39;, ylabel=&#39;Transport [Sv]&#39;&gt;],
       dtype=object))
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/demo-output_14_1.png" src="_images/demo-output_14_1.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="format_AC1.html" class="btn btn-neutral float-left" title="AMOCarray Format AC1 – RST" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="amocarray.html" class="btn btn-neutral float-right" title="amocarray API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Eleanor Frajka-Williams, FirstName LastName.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>